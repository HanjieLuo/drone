ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mpu6050.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MPU6050Init,"ax",%progbits
  18              		.align	1
  19              		.global	MPU6050Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	MPU6050Init:
  27              	.LFB138:
  28              		.file 1 "Modules/src/mpu6050.c"
   1:Modules/src/mpu6050.c **** #include "mpu6050.h"
   2:Modules/src/mpu6050.c **** 
   3:Modules/src/mpu6050.c **** static uint8_t i2c_data;
   4:Modules/src/mpu6050.c **** static uint8_t i2c_datas[6];
   5:Modules/src/mpu6050.c **** static int16_t ax_raw, ay_raw, az_raw;
   6:Modules/src/mpu6050.c **** static int16_t gx_raw, gy_raw, gz_raw;
   7:Modules/src/mpu6050.c **** static int16_t celsius_raw;
   8:Modules/src/mpu6050.c **** 
   9:Modules/src/mpu6050.c **** bool MPU6050Init(void) {
  29              		.loc 1 9 24 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 00B5     		push	{lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 14, -4
  37 0002 83B0     		sub	sp, sp, #12
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
  10:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(200));
  40              		.loc 1 10 5 view .LVU1
  41 0004 C820     		movs	r0, #200
  42 0006 FFF7FEFF 		bl	vTaskDelay
  43              	.LVL0:
  11:Modules/src/mpu6050.c **** 
  12:Modules/src/mpu6050.c ****     // printf("MPU6050Init\r\n");
  13:Modules/src/mpu6050.c ****     if(HAL_I2C_IsDeviceReady(&hi2c1, MPU6050_DEV_ADDR, 10, 1000) != HAL_OK) {
  44              		.loc 1 13 5 view .LVU2
  45              		.loc 1 13 8 is_stmt 0 view .LVU3
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 2


  46 000a 4FF47A73 		mov	r3, #1000
  47 000e 0A22     		movs	r2, #10
  48 0010 D021     		movs	r1, #208
  49 0012 3C48     		ldr	r0, .L8
  50 0014 FFF7FEFF 		bl	HAL_I2C_IsDeviceReady
  51              	.LVL1:
  52              		.loc 1 13 7 view .LVU4
  53 0018 18B1     		cbz	r0, .L6
  14:Modules/src/mpu6050.c ****         return false;
  54              		.loc 1 14 16 view .LVU5
  55 001a 0020     		movs	r0, #0
  56              	.L2:
  15:Modules/src/mpu6050.c ****     }
  16:Modules/src/mpu6050.c **** 
  17:Modules/src/mpu6050.c ****     // printf("HAL_I2C_IsDeviceReady\r\n");
  18:Modules/src/mpu6050.c **** 
  19:Modules/src/mpu6050.c ****     // 0x68 will be returned by the sensor if everything goes well
  20:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_WHO_AM_I, 1, &i2c_data, 1) || i2c_data != 0x68) {
  21:Modules/src/mpu6050.c ****         return false;
  22:Modules/src/mpu6050.c ****     }
  23:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  24:Modules/src/mpu6050.c **** 
  25:Modules/src/mpu6050.c ****     // printf("MPU6050_WHO_AM_I\r\n");
  26:Modules/src/mpu6050.c **** 
  27:Modules/src/mpu6050.c ****     //Â§ç‰Ωç MPU6050
  28:Modules/src/mpu6050.c ****     i2c_data = 0X80;
  29:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
  30:Modules/src/mpu6050.c ****         return false;
  31:Modules/src/mpu6050.c ****     }
  32:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(100));
  33:Modules/src/mpu6050.c ****     // printf("MPU6050_PWR_MGMT_1\r\n");
  34:Modules/src/mpu6050.c **** 
  35:Modules/src/mpu6050.c **** 
  36:Modules/src/mpu6050.c ****     // power management register 0X6B we should write all 0's to wake the sensor up
  37:Modules/src/mpu6050.c ****     i2c_data = 0;
  38:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
  39:Modules/src/mpu6050.c ****         return false;
  40:Modules/src/mpu6050.c ****     }
  41:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(10));
  42:Modules/src/mpu6050.c **** 
  43:Modules/src/mpu6050.c ****     // printf("MPU6050_PWR_MGMT_1\r\n");
  44:Modules/src/mpu6050.c **** 
  45:Modules/src/mpu6050.c ****     //CLKSEL 3 (PLL with Z Gyro reference)
  46:Modules/src/mpu6050.c ****     //ÈªòËÆ§ÊòØ‰ΩøÁî®ÂÜÖÈÉ® 8M RC Êô∂ÊåØÁöÑÔºåÁ≤æÂ∫¶‰∏çÈ´òÔºåÊâÄ‰ª•Êàë‰ª¨‰∏ÄËà¨ÈÄâÊã© X/Y/Z ËΩ¥ÈôÄË
  47:Modules/src/mpu6050.c ****     i2c_data = 0x03;
  48:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
  49:Modules/src/mpu6050.c ****         return false;
  50:Modules/src/mpu6050.c ****     }
  51:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  52:Modules/src/mpu6050.c **** 
  53:Modules/src/mpu6050.c ****     // printf("MPU6050_PWR_MGMT_1\r\n");
  54:Modules/src/mpu6050.c **** 
  55:Modules/src/mpu6050.c ****     // Set Gyroscope DATA RATE of 1KHz by writing SMPLRT_DIV register
  56:Modules/src/mpu6050.c ****     i2c_data = 0x07;
  57:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_SMPLRT_DIV, 1, &i2c_data, 1)) {
  58:Modules/src/mpu6050.c ****         return false;
  59:Modules/src/mpu6050.c ****     }
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 3


  60:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  61:Modules/src/mpu6050.c **** 
  62:Modules/src/mpu6050.c ****     // printf("MPU6050_SMPLRT_DIV\r\n");
  63:Modules/src/mpu6050.c **** 
  64:Modules/src/mpu6050.c ****     // Set accelerometer configuration in ACCEL_CONFIG Register
  65:Modules/src/mpu6050.c ****     // XA_ST=0,YA_ST=0,ZA_ST=0, FS_SEL=0 -> ? 2g
  66:Modules/src/mpu6050.c ****     // ËØ•ÂØÑÂ≠òÂô®Êàë‰ª¨Âè™ÂÖ≥ÂøÉ AFS_SEL[1:0]Ëøô‰∏§‰∏™‰ΩçÔºåÁî®‰∫éËÆæÁΩÆÂä†ÈÄüÂ∫¶‰º†ÊÑüÂô®ÁöÑÊª°È
  67:Modules/src/mpu6050.c ****     // ¬±2gÔºõ1Ôºå¬±4gÔºõ2Ôºå¬±8gÔºõ3Ôºå¬±16gÔºõÊàë‰ª¨‰∏ÄËà¨ËÆæÁΩÆ‰∏∫ 0ÔºåÂç≥¬±2gÔºåÂõ†‰∏∫Âä†ÈÄüÂ∫¶
  68:Modules/src/mpu6050.c ****     // ADC ‰πüÊòØ 16 ‰ΩçÔºåÊâÄ‰ª•ÂæóÂà∞ÁÅµÊïèÂ∫¶‰∏∫Ôºö65536/4=16384LSB/g„ÄÇ
  69:Modules/src/mpu6050.c ****     i2c_data = 0x00;
  70:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_ACCEL_CONFIG, 1, &i2c_data, 1)) {
  71:Modules/src/mpu6050.c ****         return false;
  72:Modules/src/mpu6050.c ****     }
  73:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  74:Modules/src/mpu6050.c **** 
  75:Modules/src/mpu6050.c ****     // printf("MPU6050_ACCEL_CONFIG\r\n");
  76:Modules/src/mpu6050.c **** 
  77:Modules/src/mpu6050.c ****     // Set Gyroscopic configuration in GYRO_CONFIG Register
  78:Modules/src/mpu6050.c ****     // XG_ST=0,YG_ST=0,ZG_ST=0, FS_SEL=0 -> ? ‰∏çËá™Ê£ÄÔºå2000deg/s
  79:Modules/src/mpu6050.c ****     //     ËØ•ÂØÑÂ≠òÂô®Êàë‰ª¨Âè™ÂÖ≥ÂøÉ FS_SEL[1:0]Ëøô‰∏§‰∏™‰ΩçÔºåÁî®‰∫éËÆæÁΩÆÈôÄËû∫‰ª™ÁöÑÊª°ÈáèÁ®ãË
  80:Modules/src/mpu6050.c ****     // /SÔºõ1Ôºå¬±500¬∞/SÔºõ2Ôºå¬±1000¬∞/SÔºõ3Ôºå¬±2000¬∞/SÔºõÊàë‰ª¨‰∏ÄËà¨ËÆæÁΩÆ‰∏∫ 3ÔºåÂç≥¬±2000¬∞
  81:Modules/src/mpu6050.c ****     // ‰∏∫ÈôÄËû∫‰ª™ÁöÑ ADC ‰∏∫ 16 ‰ΩçÂàÜËæ®ÁéáÔºåÊâÄ‰ª•ÂæóÂà∞ÁÅµÊïèÂ∫¶‰∏∫Ôºö65536/4000=16.4LSB/(¬∞/
  82:Modules/src/mpu6050.c ****     i2c_data = 0x18;
  83:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_GYRO_CONFIG, 1, &i2c_data, 1)) {
  84:Modules/src/mpu6050.c ****         return false;
  85:Modules/src/mpu6050.c ****     }
  86:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  87:Modules/src/mpu6050.c **** 
  88:Modules/src/mpu6050.c ****     // printf("MPU6050_GYRO_CONFIG\r\n");
  89:Modules/src/mpu6050.c **** 
  90:Modules/src/mpu6050.c ****     // enable I2C bypass
  91:Modules/src/mpu6050.c ****     i2c_data = 0x02;
  92:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_RA_INT_PIN_CFG, 1, &i2c_data, 1)) {
  93:Modules/src/mpu6050.c ****         return false;
  94:Modules/src/mpu6050.c ****     }
  95:Modules/src/mpu6050.c **** 
  96:Modules/src/mpu6050.c ****     // printf("MPU6050_RA_INT_PIN_CFG\r\n");
  97:Modules/src/mpu6050.c **** 
  98:Modules/src/mpu6050.c ****     // PMU6050_WriteReg(MPU6050_RA_INT_PIN_CFG, 0x02);
  99:Modules/src/mpu6050.c ****     // PMU6050_WriteReg(MPU6050_RA_USER_CTRL, 0x00);
 100:Modules/src/mpu6050.c **** 
 101:Modules/src/mpu6050.c ****     return true;
 102:Modules/src/mpu6050.c **** }
  57              		.loc 1 102 1 view .LVU6
  58 001c 03B0     		add	sp, sp, #12
  59              	.LCFI2:
  60              		.cfi_remember_state
  61              		.cfi_def_cfa_offset 4
  62              		@ sp needed
  63 001e 5DF804FB 		ldr	pc, [sp], #4
  64              	.L6:
  65              	.LCFI3:
  66              		.cfi_restore_state
  20:Modules/src/mpu6050.c ****         return false;
  67              		.loc 1 20 5 is_stmt 1 view .LVU7
  20:Modules/src/mpu6050.c ****         return false;
  68              		.loc 1 20 10 is_stmt 0 view .LVU8
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 4


  69 0022 0122     		movs	r2, #1
  70 0024 0092     		str	r2, [sp]
  71 0026 384B     		ldr	r3, .L8+4
  72 0028 7521     		movs	r1, #117
  73 002a D020     		movs	r0, #208
  74 002c FFF7FEFF 		bl	I2C1MenRead
  75              	.LVL2:
  20:Modules/src/mpu6050.c ****         return false;
  76              		.loc 1 20 8 view .LVU9
  77 0030 0028     		cmp	r0, #0
  78 0032 F3D0     		beq	.L2
  20:Modules/src/mpu6050.c ****         return false;
  79              		.loc 1 20 87 discriminator 1 view .LVU10
  80 0034 344B     		ldr	r3, .L8+4
  81 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  20:Modules/src/mpu6050.c ****         return false;
  82              		.loc 1 20 75 discriminator 1 view .LVU11
  83 0038 682B     		cmp	r3, #104
  84 003a 01D0     		beq	.L7
  21:Modules/src/mpu6050.c ****     }
  85              		.loc 1 21 16 view .LVU12
  86 003c 0020     		movs	r0, #0
  87 003e EDE7     		b	.L2
  88              	.L7:
  23:Modules/src/mpu6050.c **** 
  89              		.loc 1 23 5 is_stmt 1 view .LVU13
  90 0040 0520     		movs	r0, #5
  91 0042 FFF7FEFF 		bl	vTaskDelay
  92              	.LVL3:
  28:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
  93              		.loc 1 28 5 view .LVU14
  28:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
  94              		.loc 1 28 14 is_stmt 0 view .LVU15
  95 0046 304B     		ldr	r3, .L8+4
  96 0048 8022     		movs	r2, #128
  97 004a 1A70     		strb	r2, [r3]
  29:Modules/src/mpu6050.c ****         return false;
  98              		.loc 1 29 5 is_stmt 1 view .LVU16
  29:Modules/src/mpu6050.c ****         return false;
  99              		.loc 1 29 10 is_stmt 0 view .LVU17
 100 004c 0122     		movs	r2, #1
 101 004e 0092     		str	r2, [sp]
 102 0050 6B21     		movs	r1, #107
 103 0052 D020     		movs	r0, #208
 104 0054 FFF7FEFF 		bl	I2C1MenWrite
 105              	.LVL4:
  29:Modules/src/mpu6050.c ****         return false;
 106              		.loc 1 29 8 view .LVU18
 107 0058 0028     		cmp	r0, #0
 108 005a DFD0     		beq	.L2
  32:Modules/src/mpu6050.c ****     // printf("MPU6050_PWR_MGMT_1\r\n");
 109              		.loc 1 32 5 is_stmt 1 view .LVU19
 110 005c 6420     		movs	r0, #100
 111 005e FFF7FEFF 		bl	vTaskDelay
 112              	.LVL5:
  37:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
 113              		.loc 1 37 5 view .LVU20
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 5


  37:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
 114              		.loc 1 37 14 is_stmt 0 view .LVU21
 115 0062 294B     		ldr	r3, .L8+4
 116 0064 0022     		movs	r2, #0
 117 0066 1A70     		strb	r2, [r3]
  38:Modules/src/mpu6050.c ****         return false;
 118              		.loc 1 38 5 is_stmt 1 view .LVU22
  38:Modules/src/mpu6050.c ****         return false;
 119              		.loc 1 38 10 is_stmt 0 view .LVU23
 120 0068 0122     		movs	r2, #1
 121 006a 0092     		str	r2, [sp]
 122 006c 6B21     		movs	r1, #107
 123 006e D020     		movs	r0, #208
 124 0070 FFF7FEFF 		bl	I2C1MenWrite
 125              	.LVL6:
  38:Modules/src/mpu6050.c ****         return false;
 126              		.loc 1 38 8 view .LVU24
 127 0074 0028     		cmp	r0, #0
 128 0076 D1D0     		beq	.L2
  41:Modules/src/mpu6050.c **** 
 129              		.loc 1 41 5 is_stmt 1 view .LVU25
 130 0078 0A20     		movs	r0, #10
 131 007a FFF7FEFF 		bl	vTaskDelay
 132              	.LVL7:
  47:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
 133              		.loc 1 47 5 view .LVU26
  47:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
 134              		.loc 1 47 14 is_stmt 0 view .LVU27
 135 007e 224B     		ldr	r3, .L8+4
 136 0080 0322     		movs	r2, #3
 137 0082 1A70     		strb	r2, [r3]
  48:Modules/src/mpu6050.c ****         return false;
 138              		.loc 1 48 5 is_stmt 1 view .LVU28
  48:Modules/src/mpu6050.c ****         return false;
 139              		.loc 1 48 10 is_stmt 0 view .LVU29
 140 0084 0122     		movs	r2, #1
 141 0086 0092     		str	r2, [sp]
 142 0088 6B21     		movs	r1, #107
 143 008a D020     		movs	r0, #208
 144 008c FFF7FEFF 		bl	I2C1MenWrite
 145              	.LVL8:
  48:Modules/src/mpu6050.c ****         return false;
 146              		.loc 1 48 8 view .LVU30
 147 0090 0028     		cmp	r0, #0
 148 0092 C3D0     		beq	.L2
  51:Modules/src/mpu6050.c **** 
 149              		.loc 1 51 5 is_stmt 1 view .LVU31
 150 0094 0520     		movs	r0, #5
 151 0096 FFF7FEFF 		bl	vTaskDelay
 152              	.LVL9:
  56:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_SMPLRT_DIV, 1, &i2c_data, 1)) {
 153              		.loc 1 56 5 view .LVU32
  56:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_SMPLRT_DIV, 1, &i2c_data, 1)) {
 154              		.loc 1 56 14 is_stmt 0 view .LVU33
 155 009a 1B4B     		ldr	r3, .L8+4
 156 009c 0722     		movs	r2, #7
 157 009e 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 6


  57:Modules/src/mpu6050.c ****         return false;
 158              		.loc 1 57 5 is_stmt 1 view .LVU34
  57:Modules/src/mpu6050.c ****         return false;
 159              		.loc 1 57 10 is_stmt 0 view .LVU35
 160 00a0 0122     		movs	r2, #1
 161 00a2 0092     		str	r2, [sp]
 162 00a4 1921     		movs	r1, #25
 163 00a6 D020     		movs	r0, #208
 164 00a8 FFF7FEFF 		bl	I2C1MenWrite
 165              	.LVL10:
  57:Modules/src/mpu6050.c ****         return false;
 166              		.loc 1 57 8 view .LVU36
 167 00ac 0028     		cmp	r0, #0
 168 00ae B5D0     		beq	.L2
  60:Modules/src/mpu6050.c **** 
 169              		.loc 1 60 5 is_stmt 1 view .LVU37
 170 00b0 0520     		movs	r0, #5
 171 00b2 FFF7FEFF 		bl	vTaskDelay
 172              	.LVL11:
  69:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_ACCEL_CONFIG, 1, &i2c_data, 1)) {
 173              		.loc 1 69 5 view .LVU38
  69:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_ACCEL_CONFIG, 1, &i2c_data, 1)) {
 174              		.loc 1 69 14 is_stmt 0 view .LVU39
 175 00b6 144B     		ldr	r3, .L8+4
 176 00b8 0022     		movs	r2, #0
 177 00ba 1A70     		strb	r2, [r3]
  70:Modules/src/mpu6050.c ****         return false;
 178              		.loc 1 70 5 is_stmt 1 view .LVU40
  70:Modules/src/mpu6050.c ****         return false;
 179              		.loc 1 70 10 is_stmt 0 view .LVU41
 180 00bc 0122     		movs	r2, #1
 181 00be 0092     		str	r2, [sp]
 182 00c0 1C21     		movs	r1, #28
 183 00c2 D020     		movs	r0, #208
 184 00c4 FFF7FEFF 		bl	I2C1MenWrite
 185              	.LVL12:
  70:Modules/src/mpu6050.c ****         return false;
 186              		.loc 1 70 8 view .LVU42
 187 00c8 0028     		cmp	r0, #0
 188 00ca A7D0     		beq	.L2
  73:Modules/src/mpu6050.c **** 
 189              		.loc 1 73 5 is_stmt 1 view .LVU43
 190 00cc 0520     		movs	r0, #5
 191 00ce FFF7FEFF 		bl	vTaskDelay
 192              	.LVL13:
  82:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_GYRO_CONFIG, 1, &i2c_data, 1)) {
 193              		.loc 1 82 5 view .LVU44
  82:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_GYRO_CONFIG, 1, &i2c_data, 1)) {
 194              		.loc 1 82 14 is_stmt 0 view .LVU45
 195 00d2 0D4B     		ldr	r3, .L8+4
 196 00d4 1822     		movs	r2, #24
 197 00d6 1A70     		strb	r2, [r3]
  83:Modules/src/mpu6050.c ****         return false;
 198              		.loc 1 83 5 is_stmt 1 view .LVU46
  83:Modules/src/mpu6050.c ****         return false;
 199              		.loc 1 83 10 is_stmt 0 view .LVU47
 200 00d8 0122     		movs	r2, #1
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 7


 201 00da 0092     		str	r2, [sp]
 202 00dc 1B21     		movs	r1, #27
 203 00de D020     		movs	r0, #208
 204 00e0 FFF7FEFF 		bl	I2C1MenWrite
 205              	.LVL14:
  83:Modules/src/mpu6050.c ****         return false;
 206              		.loc 1 83 8 view .LVU48
 207 00e4 0028     		cmp	r0, #0
 208 00e6 99D0     		beq	.L2
  86:Modules/src/mpu6050.c **** 
 209              		.loc 1 86 5 is_stmt 1 view .LVU49
 210 00e8 0520     		movs	r0, #5
 211 00ea FFF7FEFF 		bl	vTaskDelay
 212              	.LVL15:
  91:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_RA_INT_PIN_CFG, 1, &i2c_data, 1)) {
 213              		.loc 1 91 5 view .LVU50
  91:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_RA_INT_PIN_CFG, 1, &i2c_data, 1)) {
 214              		.loc 1 91 14 is_stmt 0 view .LVU51
 215 00ee 064B     		ldr	r3, .L8+4
 216 00f0 0222     		movs	r2, #2
 217 00f2 1A70     		strb	r2, [r3]
  92:Modules/src/mpu6050.c ****         return false;
 218              		.loc 1 92 5 is_stmt 1 view .LVU52
  92:Modules/src/mpu6050.c ****         return false;
 219              		.loc 1 92 10 is_stmt 0 view .LVU53
 220 00f4 0122     		movs	r2, #1
 221 00f6 0092     		str	r2, [sp]
 222 00f8 3721     		movs	r1, #55
 223 00fa D020     		movs	r0, #208
 224 00fc FFF7FEFF 		bl	I2C1MenWrite
 225              	.LVL16:
 226 0100 8CE7     		b	.L2
 227              	.L9:
 228 0102 00BF     		.align	2
 229              	.L8:
 230 0104 00000000 		.word	hi2c1
 231 0108 00000000 		.word	.LANCHOR0
 232              		.cfi_endproc
 233              	.LFE138:
 235              		.section	.text.MPU6050ReadAccelRaw,"ax",%progbits
 236              		.align	1
 237              		.global	MPU6050ReadAccelRaw
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 241              		.fpu fpv4-sp-d16
 243              	MPU6050ReadAccelRaw:
 244              	.LVL17:
 245              	.LFB139:
 103:Modules/src/mpu6050.c **** 
 104:Modules/src/mpu6050.c **** bool MPU6050ReadAccelRaw(int16_t *values) {
 246              		.loc 1 104 43 is_stmt 1 view -0
 247              		.cfi_startproc
 248              		@ args = 0, pretend = 0, frame = 0
 249              		@ frame_needed = 0, uses_anonymous_args = 0
 250              		.loc 1 104 43 is_stmt 0 view .LVU55
 251 0000 10B5     		push	{r4, lr}
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 8


 252              	.LCFI4:
 253              		.cfi_def_cfa_offset 8
 254              		.cfi_offset 4, -8
 255              		.cfi_offset 14, -4
 256 0002 82B0     		sub	sp, sp, #8
 257              	.LCFI5:
 258              		.cfi_def_cfa_offset 16
 259 0004 0446     		mov	r4, r0
 105:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_ACCEL_XOUT_H, 1, i2c_datas, 6)) {
 260              		.loc 1 105 5 is_stmt 1 view .LVU56
 261              		.loc 1 105 10 is_stmt 0 view .LVU57
 262 0006 0623     		movs	r3, #6
 263 0008 0093     		str	r3, [sp]
 264 000a 0C4B     		ldr	r3, .L13
 265 000c 0122     		movs	r2, #1
 266 000e 3B21     		movs	r1, #59
 267 0010 D020     		movs	r0, #208
 268              	.LVL18:
 269              		.loc 1 105 10 view .LVU58
 270 0012 FFF7FEFF 		bl	I2C1MenRead
 271              	.LVL19:
 272              		.loc 1 105 8 view .LVU59
 273 0016 78B1     		cbz	r0, .L11
 106:Modules/src/mpu6050.c ****         return false;
 107:Modules/src/mpu6050.c ****     }
 108:Modules/src/mpu6050.c **** 
 109:Modules/src/mpu6050.c **** 	values[0] = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 274              		.loc 1 109 2 is_stmt 1 view .LVU60
 275              		.loc 1 109 33 is_stmt 0 view .LVU61
 276 0018 084B     		ldr	r3, .L13
 277 001a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 278              		.loc 1 109 54 view .LVU62
 279 001c 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 280              		.loc 1 109 14 view .LVU63
 281 001e 42EA0122 		orr	r2, r2, r1, lsl #8
 282              		.loc 1 109 12 view .LVU64
 283 0022 2280     		strh	r2, [r4]	@ movhi
 110:Modules/src/mpu6050.c **** 	values[1] = (int16_t)(i2c_datas[2] << 8 | i2c_datas [3]);
 284              		.loc 1 110 2 is_stmt 1 view .LVU65
 285              		.loc 1 110 33 is_stmt 0 view .LVU66
 286 0024 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 287              		.loc 1 110 54 view .LVU67
 288 0026 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 289              		.loc 1 110 14 view .LVU68
 290 0028 42EA0122 		orr	r2, r2, r1, lsl #8
 291              		.loc 1 110 12 view .LVU69
 292 002c 6280     		strh	r2, [r4, #2]	@ movhi
 111:Modules/src/mpu6050.c **** 	values[2] = (int16_t)(i2c_datas[4] << 8 | i2c_datas [5]);
 293              		.loc 1 111 2 is_stmt 1 view .LVU70
 294              		.loc 1 111 33 is_stmt 0 view .LVU71
 295 002e 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 296              		.loc 1 111 54 view .LVU72
 297 0030 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 298              		.loc 1 111 14 view .LVU73
 299 0032 43EA0223 		orr	r3, r3, r2, lsl #8
 300              		.loc 1 111 12 view .LVU74
 301 0036 A380     		strh	r3, [r4, #4]	@ movhi
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 9


 112:Modules/src/mpu6050.c **** 
 113:Modules/src/mpu6050.c ****     return true;  
 302              		.loc 1 113 5 is_stmt 1 view .LVU75
 303              	.L11:
 114:Modules/src/mpu6050.c **** }
 304              		.loc 1 114 1 is_stmt 0 view .LVU76
 305 0038 02B0     		add	sp, sp, #8
 306              	.LCFI6:
 307              		.cfi_def_cfa_offset 8
 308              		@ sp needed
 309 003a 10BD     		pop	{r4, pc}
 310              	.LVL20:
 311              	.L14:
 312              		.loc 1 114 1 view .LVU77
 313              		.align	2
 314              	.L13:
 315 003c 00000000 		.word	.LANCHOR1
 316              		.cfi_endproc
 317              	.LFE139:
 319              		.section	.text.MPU6050ReadGyroRaw,"ax",%progbits
 320              		.align	1
 321              		.global	MPU6050ReadGyroRaw
 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 325              		.fpu fpv4-sp-d16
 327              	MPU6050ReadGyroRaw:
 328              	.LVL21:
 329              	.LFB140:
 115:Modules/src/mpu6050.c **** 
 116:Modules/src/mpu6050.c **** bool MPU6050ReadGyroRaw(int16_t *values){
 330              		.loc 1 116 41 is_stmt 1 view -0
 331              		.cfi_startproc
 332              		@ args = 0, pretend = 0, frame = 0
 333              		@ frame_needed = 0, uses_anonymous_args = 0
 334              		.loc 1 116 41 is_stmt 0 view .LVU79
 335 0000 10B5     		push	{r4, lr}
 336              	.LCFI7:
 337              		.cfi_def_cfa_offset 8
 338              		.cfi_offset 4, -8
 339              		.cfi_offset 14, -4
 340 0002 82B0     		sub	sp, sp, #8
 341              	.LCFI8:
 342              		.cfi_def_cfa_offset 16
 343 0004 0446     		mov	r4, r0
 117:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_GYRO_XOUT_H, 1, i2c_datas, 6)) {
 344              		.loc 1 117 5 is_stmt 1 view .LVU80
 345              		.loc 1 117 10 is_stmt 0 view .LVU81
 346 0006 0623     		movs	r3, #6
 347 0008 0093     		str	r3, [sp]
 348 000a 0C4B     		ldr	r3, .L18
 349 000c 0122     		movs	r2, #1
 350 000e 4321     		movs	r1, #67
 351 0010 D020     		movs	r0, #208
 352              	.LVL22:
 353              		.loc 1 117 10 view .LVU82
 354 0012 FFF7FEFF 		bl	I2C1MenRead
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 10


 355              	.LVL23:
 356              		.loc 1 117 8 view .LVU83
 357 0016 78B1     		cbz	r0, .L16
 118:Modules/src/mpu6050.c ****         return false;
 119:Modules/src/mpu6050.c ****     }
 120:Modules/src/mpu6050.c **** 
 121:Modules/src/mpu6050.c **** 	values[0] = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 358              		.loc 1 121 2 is_stmt 1 view .LVU84
 359              		.loc 1 121 33 is_stmt 0 view .LVU85
 360 0018 084B     		ldr	r3, .L18
 361 001a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 362              		.loc 1 121 54 view .LVU86
 363 001c 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 364              		.loc 1 121 14 view .LVU87
 365 001e 42EA0122 		orr	r2, r2, r1, lsl #8
 366              		.loc 1 121 12 view .LVU88
 367 0022 2280     		strh	r2, [r4]	@ movhi
 122:Modules/src/mpu6050.c **** 	values[1] = (int16_t)(i2c_datas[2] << 8 | i2c_datas [3]);
 368              		.loc 1 122 2 is_stmt 1 view .LVU89
 369              		.loc 1 122 33 is_stmt 0 view .LVU90
 370 0024 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 371              		.loc 1 122 54 view .LVU91
 372 0026 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 373              		.loc 1 122 14 view .LVU92
 374 0028 42EA0122 		orr	r2, r2, r1, lsl #8
 375              		.loc 1 122 12 view .LVU93
 376 002c 6280     		strh	r2, [r4, #2]	@ movhi
 123:Modules/src/mpu6050.c **** 	values[2] = (int16_t)(i2c_datas[4] << 8 | i2c_datas [5]);
 377              		.loc 1 123 2 is_stmt 1 view .LVU94
 378              		.loc 1 123 33 is_stmt 0 view .LVU95
 379 002e 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 380              		.loc 1 123 54 view .LVU96
 381 0030 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 382              		.loc 1 123 14 view .LVU97
 383 0032 43EA0223 		orr	r3, r3, r2, lsl #8
 384              		.loc 1 123 12 view .LVU98
 385 0036 A380     		strh	r3, [r4, #4]	@ movhi
 124:Modules/src/mpu6050.c **** 
 125:Modules/src/mpu6050.c ****     return true;  
 386              		.loc 1 125 5 is_stmt 1 view .LVU99
 387              	.L16:
 126:Modules/src/mpu6050.c **** }
 388              		.loc 1 126 1 is_stmt 0 view .LVU100
 389 0038 02B0     		add	sp, sp, #8
 390              	.LCFI9:
 391              		.cfi_def_cfa_offset 8
 392              		@ sp needed
 393 003a 10BD     		pop	{r4, pc}
 394              	.LVL24:
 395              	.L19:
 396              		.loc 1 126 1 view .LVU101
 397              		.align	2
 398              	.L18:
 399 003c 00000000 		.word	.LANCHOR1
 400              		.cfi_endproc
 401              	.LFE140:
 403              		.section	.text.MPU6050ReadAccel,"ax",%progbits
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 11


 404              		.align	1
 405              		.global	MPU6050ReadAccel
 406              		.syntax unified
 407              		.thumb
 408              		.thumb_func
 409              		.fpu fpv4-sp-d16
 411              	MPU6050ReadAccel:
 412              	.LVL25:
 413              	.LFB141:
 127:Modules/src/mpu6050.c **** 
 128:Modules/src/mpu6050.c **** bool MPU6050ReadAccel(float *accel_x, float *accel_y, float *accel_z) {
 414              		.loc 1 128 71 is_stmt 1 view -0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 0
 417              		@ frame_needed = 0, uses_anonymous_args = 0
 418              		.loc 1 128 71 is_stmt 0 view .LVU103
 419 0000 70B5     		push	{r4, r5, r6, lr}
 420              	.LCFI10:
 421              		.cfi_def_cfa_offset 16
 422              		.cfi_offset 4, -16
 423              		.cfi_offset 5, -12
 424              		.cfi_offset 6, -8
 425              		.cfi_offset 14, -4
 426 0002 82B0     		sub	sp, sp, #8
 427              	.LCFI11:
 428              		.cfi_def_cfa_offset 24
 429 0004 0646     		mov	r6, r0
 430 0006 0D46     		mov	r5, r1
 431 0008 1446     		mov	r4, r2
 129:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_ACCEL_XOUT_H, 1, i2c_datas, 6)) {
 432              		.loc 1 129 5 is_stmt 1 view .LVU104
 433              		.loc 1 129 10 is_stmt 0 view .LVU105
 434 000a 0623     		movs	r3, #6
 435 000c 0093     		str	r3, [sp]
 436 000e 1A4B     		ldr	r3, .L23
 437 0010 0122     		movs	r2, #1
 438              	.LVL26:
 439              		.loc 1 129 10 view .LVU106
 440 0012 3B21     		movs	r1, #59
 441              	.LVL27:
 442              		.loc 1 129 10 view .LVU107
 443 0014 D020     		movs	r0, #208
 444              	.LVL28:
 445              		.loc 1 129 10 view .LVU108
 446 0016 FFF7FEFF 		bl	I2C1MenRead
 447              	.LVL29:
 448              		.loc 1 129 8 view .LVU109
 449 001a 0146     		mov	r1, r0
 450 001c 48B3     		cbz	r0, .L21
 130:Modules/src/mpu6050.c ****         return false;
 131:Modules/src/mpu6050.c ****     }
 132:Modules/src/mpu6050.c **** 
 133:Modules/src/mpu6050.c **** 	ax_raw = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 451              		.loc 1 133 2 is_stmt 1 view .LVU110
 452              		.loc 1 133 30 is_stmt 0 view .LVU111
 453 001e 164A     		ldr	r2, .L23
 454 0020 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 12


 455              		.loc 1 133 51 view .LVU112
 456 0022 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 457              		.loc 1 133 11 view .LVU113
 458 0024 43EA0023 		orr	r3, r3, r0, lsl #8
 459 0028 1BB2     		sxth	r3, r3
 460 002a 06EE903A 		vmov	s13, r3	@ int
 134:Modules/src/mpu6050.c **** 	ay_raw = (int16_t)(i2c_datas[2] << 8 | i2c_datas [3]);
 461              		.loc 1 134 2 is_stmt 1 view .LVU114
 462              		.loc 1 134 30 is_stmt 0 view .LVU115
 463 002e 9078     		ldrb	r0, [r2, #2]	@ zero_extendqisi2
 464              		.loc 1 134 51 view .LVU116
 465 0030 D378     		ldrb	r3, [r2, #3]	@ zero_extendqisi2
 466              		.loc 1 134 11 view .LVU117
 467 0032 43EA0023 		orr	r3, r3, r0, lsl #8
 468 0036 1BB2     		sxth	r3, r3
 469 0038 07EE103A 		vmov	s14, r3	@ int
 135:Modules/src/mpu6050.c **** 	az_raw = (int16_t)(i2c_datas[4] << 8 | i2c_datas [5]);
 470              		.loc 1 135 2 is_stmt 1 view .LVU118
 471              		.loc 1 135 30 is_stmt 0 view .LVU119
 472 003c 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 473              		.loc 1 135 51 view .LVU120
 474 003e 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 475              		.loc 1 135 11 view .LVU121
 476 0040 43EA0023 		orr	r3, r3, r0, lsl #8
 477 0044 1BB2     		sxth	r3, r3
 478 0046 07EE903A 		vmov	s15, r3	@ int
 136:Modules/src/mpu6050.c **** 
 137:Modules/src/mpu6050.c **** 	/*** convert the RAW values into acceleration in 'g'
 138:Modules/src/mpu6050.c **** 	     we have to divide according to the Full scale value set in FS_SEL
 139:Modules/src/mpu6050.c **** 	     I have configured FS_SEL = 0. So I am dividing by 16384.0
 140:Modules/src/mpu6050.c **** 	     for more details check ACCEL_CONFIG Register              ****/
 141:Modules/src/mpu6050.c **** 
 142:Modules/src/mpu6050.c **** 	*accel_x = ax_raw / 16384.f;
 479              		.loc 1 142 2 is_stmt 1 view .LVU122
 480              		.loc 1 142 20 is_stmt 0 view .LVU123
 481 004a F8EEE66A 		vcvt.f32.s32	s13, s13
 482 004e 9FED0B6A 		vldr.32	s12, .L23+4
 483 0052 66EE866A 		vmul.f32	s13, s13, s12
 484              		.loc 1 142 11 view .LVU124
 485 0056 C6ED006A 		vstr.32	s13, [r6]
 143:Modules/src/mpu6050.c **** 	*accel_y = ay_raw / 16384.f;
 486              		.loc 1 143 2 is_stmt 1 view .LVU125
 487              		.loc 1 143 20 is_stmt 0 view .LVU126
 488 005a B8EEC77A 		vcvt.f32.s32	s14, s14
 489 005e 27EE067A 		vmul.f32	s14, s14, s12
 490              		.loc 1 143 11 view .LVU127
 491 0062 85ED007A 		vstr.32	s14, [r5]
 144:Modules/src/mpu6050.c **** 	*accel_z = az_raw / 16384.f;
 492              		.loc 1 144 2 is_stmt 1 view .LVU128
 493              		.loc 1 144 20 is_stmt 0 view .LVU129
 494 0066 F8EEE77A 		vcvt.f32.s32	s15, s15
 495 006a 67EE867A 		vmul.f32	s15, s15, s12
 496              		.loc 1 144 11 view .LVU130
 497 006e C4ED007A 		vstr.32	s15, [r4]
 145:Modules/src/mpu6050.c **** 
 146:Modules/src/mpu6050.c ****     return true;  
 498              		.loc 1 146 5 is_stmt 1 view .LVU131
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 13


 499              	.L21:
 147:Modules/src/mpu6050.c **** }
 500              		.loc 1 147 1 is_stmt 0 view .LVU132
 501 0072 0846     		mov	r0, r1
 502 0074 02B0     		add	sp, sp, #8
 503              	.LCFI12:
 504              		.cfi_def_cfa_offset 16
 505              		@ sp needed
 506 0076 70BD     		pop	{r4, r5, r6, pc}
 507              	.LVL30:
 508              	.L24:
 509              		.loc 1 147 1 view .LVU133
 510              		.align	2
 511              	.L23:
 512 0078 00000000 		.word	.LANCHOR1
 513 007c 00008038 		.word	947912704
 514              		.cfi_endproc
 515              	.LFE141:
 517              		.section	.text.MPU6050ReadGyro,"ax",%progbits
 518              		.align	1
 519              		.global	MPU6050ReadGyro
 520              		.syntax unified
 521              		.thumb
 522              		.thumb_func
 523              		.fpu fpv4-sp-d16
 525              	MPU6050ReadGyro:
 526              	.LVL31:
 527              	.LFB142:
 148:Modules/src/mpu6050.c **** 
 149:Modules/src/mpu6050.c **** bool MPU6050ReadGyro(float *gx, float *gy, float *gz){
 528              		.loc 1 149 54 is_stmt 1 view -0
 529              		.cfi_startproc
 530              		@ args = 0, pretend = 0, frame = 0
 531              		@ frame_needed = 0, uses_anonymous_args = 0
 532              		.loc 1 149 54 is_stmt 0 view .LVU135
 533 0000 70B5     		push	{r4, r5, r6, lr}
 534              	.LCFI13:
 535              		.cfi_def_cfa_offset 16
 536              		.cfi_offset 4, -16
 537              		.cfi_offset 5, -12
 538              		.cfi_offset 6, -8
 539              		.cfi_offset 14, -4
 540 0002 82B0     		sub	sp, sp, #8
 541              	.LCFI14:
 542              		.cfi_def_cfa_offset 24
 543 0004 0646     		mov	r6, r0
 544 0006 0D46     		mov	r5, r1
 545 0008 1446     		mov	r4, r2
 150:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_GYRO_XOUT_H, 1, i2c_datas, 6)) {
 546              		.loc 1 150 5 is_stmt 1 view .LVU136
 547              		.loc 1 150 10 is_stmt 0 view .LVU137
 548 000a 0623     		movs	r3, #6
 549 000c 0093     		str	r3, [sp]
 550 000e 1A4B     		ldr	r3, .L28
 551 0010 0122     		movs	r2, #1
 552              	.LVL32:
 553              		.loc 1 150 10 view .LVU138
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 14


 554 0012 4321     		movs	r1, #67
 555              	.LVL33:
 556              		.loc 1 150 10 view .LVU139
 557 0014 D020     		movs	r0, #208
 558              	.LVL34:
 559              		.loc 1 150 10 view .LVU140
 560 0016 FFF7FEFF 		bl	I2C1MenRead
 561              	.LVL35:
 562              		.loc 1 150 8 view .LVU141
 563 001a 0146     		mov	r1, r0
 564 001c 48B3     		cbz	r0, .L26
 151:Modules/src/mpu6050.c ****         return false;
 152:Modules/src/mpu6050.c ****     }
 153:Modules/src/mpu6050.c **** 
 154:Modules/src/mpu6050.c **** 	gx_raw = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 565              		.loc 1 154 2 is_stmt 1 view .LVU142
 566              		.loc 1 154 30 is_stmt 0 view .LVU143
 567 001e 164A     		ldr	r2, .L28
 568 0020 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 569              		.loc 1 154 51 view .LVU144
 570 0022 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 571              		.loc 1 154 11 view .LVU145
 572 0024 43EA0023 		orr	r3, r3, r0, lsl #8
 573 0028 1BB2     		sxth	r3, r3
 574 002a 07EE103A 		vmov	s14, r3	@ int
 155:Modules/src/mpu6050.c **** 	gy_raw = (int16_t)(i2c_datas[2] << 8 | i2c_datas [3]);
 575              		.loc 1 155 2 is_stmt 1 view .LVU146
 576              		.loc 1 155 30 is_stmt 0 view .LVU147
 577 002e 9078     		ldrb	r0, [r2, #2]	@ zero_extendqisi2
 578              		.loc 1 155 51 view .LVU148
 579 0030 D378     		ldrb	r3, [r2, #3]	@ zero_extendqisi2
 580              		.loc 1 155 11 view .LVU149
 581 0032 43EA0023 		orr	r3, r3, r0, lsl #8
 582 0036 1BB2     		sxth	r3, r3
 583 0038 07EE903A 		vmov	s15, r3	@ int
 156:Modules/src/mpu6050.c **** 	gz_raw = (int16_t)(i2c_datas[4] << 8 | i2c_datas [5]);
 584              		.loc 1 156 2 is_stmt 1 view .LVU150
 585              		.loc 1 156 30 is_stmt 0 view .LVU151
 586 003c 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 587              		.loc 1 156 51 view .LVU152
 588 003e 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 589              		.loc 1 156 11 view .LVU153
 590 0040 43EA0023 		orr	r3, r3, r0, lsl #8
 591 0044 1BB2     		sxth	r3, r3
 157:Modules/src/mpu6050.c **** 
 158:Modules/src/mpu6050.c **** 	/*** convert the RAW values into dps (?/s)
 159:Modules/src/mpu6050.c **** 	     we have to divide according to the Full scale value set in FS_SEL
 160:Modules/src/mpu6050.c **** 	     I have configured FS_SEL = 0. So I am dividing by 131.0
 161:Modules/src/mpu6050.c **** 	     for more details check GYRO_CONFIG Register              ****/
 162:Modules/src/mpu6050.c **** 
 163:Modules/src/mpu6050.c **** 	*gx = gx_raw / 16.4f;
 592              		.loc 1 163 2 is_stmt 1 view .LVU154
 593              		.loc 1 163 15 is_stmt 0 view .LVU155
 594 0046 B8EEC77A 		vcvt.f32.s32	s14, s14
 595 004a DFED0C6A 		vldr.32	s13, .L28+4
 596 004e 87EE266A 		vdiv.f32	s12, s14, s13
 597              		.loc 1 163 6 view .LVU156
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 15


 598 0052 86ED006A 		vstr.32	s12, [r6]
 164:Modules/src/mpu6050.c **** 	*gy = gy_raw / 16.4f;
 599              		.loc 1 164 2 is_stmt 1 view .LVU157
 600              		.loc 1 164 15 is_stmt 0 view .LVU158
 601 0056 F8EEE77A 		vcvt.f32.s32	s15, s15
 602 005a 87EEA67A 		vdiv.f32	s14, s15, s13
 603              		.loc 1 164 6 view .LVU159
 604 005e 85ED007A 		vstr.32	s14, [r5]
 165:Modules/src/mpu6050.c **** 	*gz = gz_raw / 16.4f;
 605              		.loc 1 165 2 is_stmt 1 view .LVU160
 606              		.loc 1 165 15 is_stmt 0 view .LVU161
 607 0062 07EE903A 		vmov	s15, r3	@ int
 608 0066 F8EEE77A 		vcvt.f32.s32	s15, s15
 609 006a 87EEA67A 		vdiv.f32	s14, s15, s13
 610              		.loc 1 165 6 view .LVU162
 611 006e 84ED007A 		vstr.32	s14, [r4]
 166:Modules/src/mpu6050.c **** 
 167:Modules/src/mpu6050.c ****     return true;  
 612              		.loc 1 167 5 is_stmt 1 view .LVU163
 613              	.L26:
 168:Modules/src/mpu6050.c **** }
 614              		.loc 1 168 1 is_stmt 0 view .LVU164
 615 0072 0846     		mov	r0, r1
 616 0074 02B0     		add	sp, sp, #8
 617              	.LCFI15:
 618              		.cfi_def_cfa_offset 16
 619              		@ sp needed
 620 0076 70BD     		pop	{r4, r5, r6, pc}
 621              	.LVL36:
 622              	.L29:
 623              		.loc 1 168 1 view .LVU165
 624              		.align	2
 625              	.L28:
 626 0078 00000000 		.word	.LANCHOR1
 627 007c 33338341 		.word	1099117363
 628              		.cfi_endproc
 629              	.LFE142:
 631              		.global	__aeabi_f2d
 632              		.global	__aeabi_dadd
 633              		.global	__aeabi_d2f
 634              		.section	.text.MPU6050ReadTemp,"ax",%progbits
 635              		.align	1
 636              		.global	MPU6050ReadTemp
 637              		.syntax unified
 638              		.thumb
 639              		.thumb_func
 640              		.fpu fpv4-sp-d16
 642              	MPU6050ReadTemp:
 643              	.LVL37:
 644              	.LFB143:
 169:Modules/src/mpu6050.c **** 
 170:Modules/src/mpu6050.c **** bool MPU6050ReadTemp(float *celsius) {
 645              		.loc 1 170 38 is_stmt 1 view -0
 646              		.cfi_startproc
 647              		@ args = 0, pretend = 0, frame = 0
 648              		@ frame_needed = 0, uses_anonymous_args = 0
 649              		.loc 1 170 38 is_stmt 0 view .LVU167
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 16


 650 0000 30B5     		push	{r4, r5, lr}
 651              	.LCFI16:
 652              		.cfi_def_cfa_offset 12
 653              		.cfi_offset 4, -12
 654              		.cfi_offset 5, -8
 655              		.cfi_offset 14, -4
 656 0002 83B0     		sub	sp, sp, #12
 657              	.LCFI17:
 658              		.cfi_def_cfa_offset 24
 659 0004 0546     		mov	r5, r0
 171:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_TEMP_OUT_H, 1, i2c_datas, 2)) {
 660              		.loc 1 171 5 is_stmt 1 view .LVU168
 661              		.loc 1 171 10 is_stmt 0 view .LVU169
 662 0006 0223     		movs	r3, #2
 663 0008 0093     		str	r3, [sp]
 664 000a 154B     		ldr	r3, .L33+8
 665 000c 0122     		movs	r2, #1
 666 000e 4121     		movs	r1, #65
 667 0010 D020     		movs	r0, #208
 668              	.LVL38:
 669              		.loc 1 171 10 view .LVU170
 670 0012 FFF7FEFF 		bl	I2C1MenRead
 671              	.LVL39:
 672              		.loc 1 171 8 view .LVU171
 673 0016 0446     		mov	r4, r0
 674 0018 C8B1     		cbz	r0, .L31
 172:Modules/src/mpu6050.c ****         return false;
 173:Modules/src/mpu6050.c ****     }
 174:Modules/src/mpu6050.c **** 
 175:Modules/src/mpu6050.c **** 	celsius_raw = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 675              		.loc 1 175 2 is_stmt 1 view .LVU172
 676              		.loc 1 175 35 is_stmt 0 view .LVU173
 677 001a 114A     		ldr	r2, .L33+8
 678 001c 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 679              		.loc 1 175 56 view .LVU174
 680 001e 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 681              		.loc 1 175 16 view .LVU175
 682 0020 43EA0123 		orr	r3, r3, r1, lsl #8
 683 0024 1BB2     		sxth	r3, r3
 176:Modules/src/mpu6050.c **** 	*celsius =  36.53 + (float)celsius_raw / 340.f;
 684              		.loc 1 176 2 is_stmt 1 view .LVU176
 685              		.loc 1 176 22 is_stmt 0 view .LVU177
 686 0026 07EE903A 		vmov	s15, r3	@ int
 687 002a F8EEE77A 		vcvt.f32.s32	s15, s15
 688              		.loc 1 176 41 view .LVU178
 689 002e 9FED0D7A 		vldr.32	s14, .L33+12
 690 0032 C7EE877A 		vdiv.f32	s15, s15, s14
 691 0036 17EE900A 		vmov	r0, s15
 692 003a FFF7FEFF 		bl	__aeabi_f2d
 693              	.LVL40:
 694              		.loc 1 176 20 view .LVU179
 695 003e 06A3     		adr	r3, .L33
 696 0040 D3E90023 		ldrd	r2, [r3]
 697 0044 FFF7FEFF 		bl	__aeabi_dadd
 698              	.LVL41:
 699 0048 FFF7FEFF 		bl	__aeabi_d2f
 700              	.LVL42:
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 17


 701              		.loc 1 176 11 view .LVU180
 702 004c 2860     		str	r0, [r5]	@ float
 177:Modules/src/mpu6050.c **** 
 178:Modules/src/mpu6050.c ****     return true;      
 703              		.loc 1 178 5 is_stmt 1 view .LVU181
 704              	.L31:
 179:Modules/src/mpu6050.c **** }...
 705              		.loc 1 179 1 is_stmt 0 view .LVU182
 706 004e 2046     		mov	r0, r4
 707 0050 03B0     		add	sp, sp, #12
 708              	.LCFI18:
 709              		.cfi_def_cfa_offset 12
 710              		@ sp needed
 711 0052 30BD     		pop	{r4, r5, pc}
 712              	.LVL43:
 713              	.L34:
 714              		.loc 1 179 1 view .LVU183
 715 0054 AFF30080 		.align	3
 716              	.L33:
 717 0058 A4703D0A 		.word	171798692
 718 005c D7434240 		.word	1078084567
 719 0060 00000000 		.word	.LANCHOR1
 720 0064 0000AA43 		.word	1135214592
 721              		.cfi_endproc
 722              	.LFE143:
 724              		.section	.bss.i2c_data,"aw",%nobits
 725              		.set	.LANCHOR0,. + 0
 728              	i2c_data:
 729 0000 00       		.space	1
 730              		.section	.bss.i2c_datas,"aw",%nobits
 731              		.align	2
 732              		.set	.LANCHOR1,. + 0
 735              	i2c_datas:
 736 0000 00000000 		.space	6
 736      0000
 737              		.text
 738              	.Letext0:
 739              		.file 2 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\machine\\_default_ty
 740              		.file 3 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 741              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 742              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 743              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 744              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 745              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 746              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 747              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 748              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 749              		.file 12 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 750              		.file 13 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 751              		.file 14 "e:\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 752              		.file 15 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 753              		.file 16 "Modules/include/utils.h"
 754              		.file 17 "Inc/i2c.h"
 755              		.file 18 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
 756              		.file 19 "Modules/include/i2c1.h"
 757              		.file 20 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 mpu6050.c
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:18     .text.MPU6050Init:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:26     .text.MPU6050Init:00000000 MPU6050Init
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:230    .text.MPU6050Init:00000104 $d
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:236    .text.MPU6050ReadAccelRaw:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:243    .text.MPU6050ReadAccelRaw:00000000 MPU6050ReadAccelRaw
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:315    .text.MPU6050ReadAccelRaw:0000003c $d
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:320    .text.MPU6050ReadGyroRaw:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:327    .text.MPU6050ReadGyroRaw:00000000 MPU6050ReadGyroRaw
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:399    .text.MPU6050ReadGyroRaw:0000003c $d
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:404    .text.MPU6050ReadAccel:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:411    .text.MPU6050ReadAccel:00000000 MPU6050ReadAccel
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:512    .text.MPU6050ReadAccel:00000078 $d
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:518    .text.MPU6050ReadGyro:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:525    .text.MPU6050ReadGyro:00000000 MPU6050ReadGyro
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:626    .text.MPU6050ReadGyro:00000078 $d
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:635    .text.MPU6050ReadTemp:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:642    .text.MPU6050ReadTemp:00000000 MPU6050ReadTemp
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:717    .text.MPU6050ReadTemp:00000058 $d
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:728    .bss.i2c_data:00000000 i2c_data
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:729    .bss.i2c_data:00000000 $d
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:731    .bss.i2c_datas:00000000 $d
C:\Users\luoha\AppData\Local\Temp\ccqrho6K.s:735    .bss.i2c_datas:00000000 i2c_datas

UNDEFINED SYMBOLS
vTaskDelay
HAL_I2C_IsDeviceReady
I2C1MenRead
I2C1MenWrite
hi2c1
__aeabi_f2d
__aeabi_dadd
__aeabi_d2f

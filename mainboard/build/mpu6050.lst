ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mpu6050.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MPU6050Init,"ax",%progbits
  18              		.align	1
  19              		.global	MPU6050Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	MPU6050Init:
  27              	.LFB138:
  28              		.file 1 "Modules/src/mpu6050.c"
   1:Modules/src/mpu6050.c **** #include "mpu6050.h"
   2:Modules/src/mpu6050.c **** 
   3:Modules/src/mpu6050.c **** static uint8_t i2c_data;
   4:Modules/src/mpu6050.c **** static uint8_t i2c_datas[6];
   5:Modules/src/mpu6050.c **** static int16_t ax_raw, ay_raw, az_raw;
   6:Modules/src/mpu6050.c **** static int16_t gx_raw, gy_raw, gz_raw;
   7:Modules/src/mpu6050.c **** static int16_t celsius_raw;
   8:Modules/src/mpu6050.c **** 
   9:Modules/src/mpu6050.c **** bool MPU6050Init(void) {
  29              		.loc 1 9 24 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 00B5     		push	{lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 14, -4
  37 0002 83B0     		sub	sp, sp, #12
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
  10:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(200));
  40              		.loc 1 10 5 view .LVU1
  41 0004 C820     		movs	r0, #200
  42 0006 FFF7FEFF 		bl	vTaskDelay
  43              	.LVL0:
  11:Modules/src/mpu6050.c **** 
  12:Modules/src/mpu6050.c ****     // printf("MPU6050Init\r\n");
  13:Modules/src/mpu6050.c ****     if(HAL_I2C_IsDeviceReady(&hi2c1, MPU6050_DEV_ADDR, 10, 1000) != HAL_OK) {
  44              		.loc 1 13 5 view .LVU2
  45              		.loc 1 13 8 is_stmt 0 view .LVU3
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 2


  46 000a 4FF47A73 		mov	r3, #1000
  47 000e 0A22     		movs	r2, #10
  48 0010 D021     		movs	r1, #208
  49 0012 3D48     		ldr	r0, .L10
  50 0014 FFF7FEFF 		bl	HAL_I2C_IsDeviceReady
  51              	.LVL1:
  52              		.loc 1 13 7 view .LVU4
  53 0018 18B1     		cbz	r0, .L7
  14:Modules/src/mpu6050.c ****         return false;
  54              		.loc 1 14 16 view .LVU5
  55 001a 0020     		movs	r0, #0
  56              	.L2:
  15:Modules/src/mpu6050.c ****     }
  16:Modules/src/mpu6050.c **** 
  17:Modules/src/mpu6050.c ****     // printf("HAL_I2C_IsDeviceReady\r\n");
  18:Modules/src/mpu6050.c **** 
  19:Modules/src/mpu6050.c ****     // 0x68 will be returned by the sensor if everything goes well
  20:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_WHO_AM_I, 1, &i2c_data, 1) || i2c_data != 0x68) {
  21:Modules/src/mpu6050.c ****         return false;
  22:Modules/src/mpu6050.c ****     }
  23:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  24:Modules/src/mpu6050.c **** 
  25:Modules/src/mpu6050.c ****     // printf("MPU6050_WHO_AM_I\r\n");
  26:Modules/src/mpu6050.c **** 
  27:Modules/src/mpu6050.c ****     // DEVICE_RESET  resets all internal registers to their default values. No acknowledge!
  28:Modules/src/mpu6050.c ****     i2c_data = 0X80;
  29:Modules/src/mpu6050.c ****     if(HAL_I2C_Mem_Write_DMA(&hi2c1, MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1) != HAL_
  30:Modules/src/mpu6050.c ****         return false;
  31:Modules/src/mpu6050.c ****     } 
  32:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(100));
  33:Modules/src/mpu6050.c **** 
  34:Modules/src/mpu6050.c ****     // printf("MPU6050_PWR_MGMT_1\r\n");
  35:Modules/src/mpu6050.c **** 
  36:Modules/src/mpu6050.c ****     // power management register 0X6B we should write all 0's to wake the sensor up
  37:Modules/src/mpu6050.c ****     i2c_data = 0;
  38:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
  39:Modules/src/mpu6050.c ****         return false;
  40:Modules/src/mpu6050.c ****     }
  41:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(10));
  42:Modules/src/mpu6050.c **** 
  43:Modules/src/mpu6050.c ****     // printf("MPU6050_PWR_MGMT_1\r\n");
  44:Modules/src/mpu6050.c **** 
  45:Modules/src/mpu6050.c ****     //CLKSEL 3 (PLL with Z Gyro reference)
  46:Modules/src/mpu6050.c ****     //ÈªòËÆ§ÊòØ‰ΩøÁî®ÂÜÖÈÉ® 8M RC Êô∂ÊåØÁöÑÔºåÁ≤æÂ∫¶‰∏çÈ´òÔºåÊâÄ‰ª•Êàë‰ª¨‰∏ÄËà¨ÈÄâÊã© X/Y/Z ËΩ¥ÈôÄË
  47:Modules/src/mpu6050.c ****     i2c_data = 0x03;
  48:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
  49:Modules/src/mpu6050.c ****         return false;
  50:Modules/src/mpu6050.c ****     }
  51:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  52:Modules/src/mpu6050.c **** 
  53:Modules/src/mpu6050.c ****     // printf("MPU6050_PWR_MGMT_1\r\n");
  54:Modules/src/mpu6050.c **** 
  55:Modules/src/mpu6050.c ****     // Set Gyroscope DATA RATE of 1KHz by writing SMPLRT_DIV register
  56:Modules/src/mpu6050.c ****     i2c_data = 0x07;
  57:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_SMPLRT_DIV, 1, &i2c_data, 1)) {
  58:Modules/src/mpu6050.c ****         return false;
  59:Modules/src/mpu6050.c ****     }
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 3


  60:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  61:Modules/src/mpu6050.c **** 
  62:Modules/src/mpu6050.c ****     // printf("MPU6050_SMPLRT_DIV\r\n");
  63:Modules/src/mpu6050.c **** 
  64:Modules/src/mpu6050.c ****     // Set accelerometer configuration in ACCEL_CONFIG Register
  65:Modules/src/mpu6050.c ****     // XA_ST=0,YA_ST=0,ZA_ST=0, FS_SEL=0 -> ? 2g
  66:Modules/src/mpu6050.c ****     // ËØ•ÂØÑÂ≠òÂô®Êàë‰ª¨Âè™ÂÖ≥ÂøÉ AFS_SEL[1:0]Ëøô‰∏§‰∏™‰ΩçÔºåÁî®‰∫éËÆæÁΩÆÂä†ÈÄüÂ∫¶‰º†ÊÑüÂô®ÁöÑÊª°È
  67:Modules/src/mpu6050.c ****     // ¬±2gÔºõ1Ôºå¬±4gÔºõ2Ôºå¬±8gÔºõ3Ôºå¬±16gÔºõÊàë‰ª¨‰∏ÄËà¨ËÆæÁΩÆ‰∏∫ 0ÔºåÂç≥¬±2gÔºåÂõ†‰∏∫Âä†ÈÄüÂ∫¶
  68:Modules/src/mpu6050.c ****     // ADC ‰πüÊòØ 16 ‰ΩçÔºåÊâÄ‰ª•ÂæóÂà∞ÁÅµÊïèÂ∫¶‰∏∫Ôºö65536/4=16384LSB/g„ÄÇ
  69:Modules/src/mpu6050.c ****     i2c_data = 0x00;
  70:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_ACCEL_CONFIG, 1, &i2c_data, 1)) {
  71:Modules/src/mpu6050.c ****         return false;
  72:Modules/src/mpu6050.c ****     }
  73:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  74:Modules/src/mpu6050.c **** 
  75:Modules/src/mpu6050.c ****     // printf("MPU6050_ACCEL_CONFIG\r\n");
  76:Modules/src/mpu6050.c **** 
  77:Modules/src/mpu6050.c ****     // Set Gyroscopic configuration in GYRO_CONFIG Register
  78:Modules/src/mpu6050.c ****     // XG_ST=0,YG_ST=0,ZG_ST=0, FS_SEL=0 -> ? ‰∏çËá™Ê£ÄÔºå2000deg/s
  79:Modules/src/mpu6050.c ****     //     ËØ•ÂØÑÂ≠òÂô®Êàë‰ª¨Âè™ÂÖ≥ÂøÉ FS_SEL[1:0]Ëøô‰∏§‰∏™‰ΩçÔºåÁî®‰∫éËÆæÁΩÆÈôÄËû∫‰ª™ÁöÑÊª°ÈáèÁ®ãË
  80:Modules/src/mpu6050.c ****     // /SÔºõ1Ôºå¬±500¬∞/SÔºõ2Ôºå¬±1000¬∞/SÔºõ3Ôºå¬±2000¬∞/SÔºõÊàë‰ª¨‰∏ÄËà¨ËÆæÁΩÆ‰∏∫ 3ÔºåÂç≥¬±2000¬∞
  81:Modules/src/mpu6050.c ****     // ‰∏∫ÈôÄËû∫‰ª™ÁöÑ ADC ‰∏∫ 16 ‰ΩçÂàÜËæ®ÁéáÔºåÊâÄ‰ª•ÂæóÂà∞ÁÅµÊïèÂ∫¶‰∏∫Ôºö65536/4000=16.4LSB/(¬∞/
  82:Modules/src/mpu6050.c ****     i2c_data = 0x18;
  83:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_GYRO_CONFIG, 1, &i2c_data, 1)) {
  84:Modules/src/mpu6050.c ****         return false;
  85:Modules/src/mpu6050.c ****     }
  86:Modules/src/mpu6050.c ****     vTaskDelay(pdMS_TO_TICKS(5));
  87:Modules/src/mpu6050.c **** 
  88:Modules/src/mpu6050.c ****     // printf("MPU6050_GYRO_CONFIG\r\n");
  89:Modules/src/mpu6050.c **** 
  90:Modules/src/mpu6050.c ****     // enable I2C bypass
  91:Modules/src/mpu6050.c ****     i2c_data = 0x02;
  92:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_RA_INT_PIN_CFG, 1, &i2c_data, 1)) {
  93:Modules/src/mpu6050.c ****         return false;
  94:Modules/src/mpu6050.c ****     }
  95:Modules/src/mpu6050.c **** 
  96:Modules/src/mpu6050.c ****     // printf("MPU6050_RA_INT_PIN_CFG\r\n");
  97:Modules/src/mpu6050.c **** 
  98:Modules/src/mpu6050.c ****     // PMU6050_WriteReg(MPU6050_RA_INT_PIN_CFG, 0x02);
  99:Modules/src/mpu6050.c ****     // PMU6050_WriteReg(MPU6050_RA_USER_CTRL, 0x00);
 100:Modules/src/mpu6050.c **** 
 101:Modules/src/mpu6050.c ****     return true;
 102:Modules/src/mpu6050.c **** }
  57              		.loc 1 102 1 view .LVU6
  58 001c 03B0     		add	sp, sp, #12
  59              	.LCFI2:
  60              		.cfi_remember_state
  61              		.cfi_def_cfa_offset 4
  62              		@ sp needed
  63 001e 5DF804FB 		ldr	pc, [sp], #4
  64              	.L7:
  65              	.LCFI3:
  66              		.cfi_restore_state
  20:Modules/src/mpu6050.c ****         return false;
  67              		.loc 1 20 5 is_stmt 1 view .LVU7
  20:Modules/src/mpu6050.c ****         return false;
  68              		.loc 1 20 10 is_stmt 0 view .LVU8
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 4


  69 0022 0122     		movs	r2, #1
  70 0024 0092     		str	r2, [sp]
  71 0026 394B     		ldr	r3, .L10+4
  72 0028 7521     		movs	r1, #117
  73 002a D020     		movs	r0, #208
  74 002c FFF7FEFF 		bl	I2C1MenRead
  75              	.LVL2:
  20:Modules/src/mpu6050.c ****         return false;
  76              		.loc 1 20 8 view .LVU9
  77 0030 0028     		cmp	r0, #0
  78 0032 F3D0     		beq	.L2
  20:Modules/src/mpu6050.c ****         return false;
  79              		.loc 1 20 87 discriminator 1 view .LVU10
  80 0034 354B     		ldr	r3, .L10+4
  81 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  20:Modules/src/mpu6050.c ****         return false;
  82              		.loc 1 20 75 discriminator 1 view .LVU11
  83 0038 682B     		cmp	r3, #104
  84 003a 01D0     		beq	.L8
  21:Modules/src/mpu6050.c ****     }
  85              		.loc 1 21 16 view .LVU12
  86 003c 0020     		movs	r0, #0
  87 003e EDE7     		b	.L2
  88              	.L8:
  23:Modules/src/mpu6050.c **** 
  89              		.loc 1 23 5 is_stmt 1 view .LVU13
  90 0040 0520     		movs	r0, #5
  91 0042 FFF7FEFF 		bl	vTaskDelay
  92              	.LVL3:
  28:Modules/src/mpu6050.c ****     if(HAL_I2C_Mem_Write_DMA(&hi2c1, MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1) != HAL_
  93              		.loc 1 28 5 view .LVU14
  28:Modules/src/mpu6050.c ****     if(HAL_I2C_Mem_Write_DMA(&hi2c1, MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1) != HAL_
  94              		.loc 1 28 14 is_stmt 0 view .LVU15
  95 0046 314A     		ldr	r2, .L10+4
  96 0048 8023     		movs	r3, #128
  97 004a 1370     		strb	r3, [r2]
  29:Modules/src/mpu6050.c ****         return false;
  98              		.loc 1 29 5 is_stmt 1 view .LVU16
  29:Modules/src/mpu6050.c ****         return false;
  99              		.loc 1 29 8 is_stmt 0 view .LVU17
 100 004c 0123     		movs	r3, #1
 101 004e 0193     		str	r3, [sp, #4]
 102 0050 0092     		str	r2, [sp]
 103 0052 6B22     		movs	r2, #107
 104 0054 D021     		movs	r1, #208
 105 0056 2C48     		ldr	r0, .L10
 106 0058 FFF7FEFF 		bl	HAL_I2C_Mem_Write_DMA
 107              	.LVL4:
  29:Modules/src/mpu6050.c ****         return false;
 108              		.loc 1 29 7 view .LVU18
 109 005c 08B1     		cbz	r0, .L9
  30:Modules/src/mpu6050.c ****     } 
 110              		.loc 1 30 16 view .LVU19
 111 005e 0020     		movs	r0, #0
 112 0060 DCE7     		b	.L2
 113              	.L9:
  32:Modules/src/mpu6050.c **** 
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 5


 114              		.loc 1 32 5 is_stmt 1 view .LVU20
 115 0062 6420     		movs	r0, #100
 116 0064 FFF7FEFF 		bl	vTaskDelay
 117              	.LVL5:
  37:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
 118              		.loc 1 37 5 view .LVU21
  37:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
 119              		.loc 1 37 14 is_stmt 0 view .LVU22
 120 0068 284B     		ldr	r3, .L10+4
 121 006a 0022     		movs	r2, #0
 122 006c 1A70     		strb	r2, [r3]
  38:Modules/src/mpu6050.c ****         return false;
 123              		.loc 1 38 5 is_stmt 1 view .LVU23
  38:Modules/src/mpu6050.c ****         return false;
 124              		.loc 1 38 10 is_stmt 0 view .LVU24
 125 006e 0122     		movs	r2, #1
 126 0070 0092     		str	r2, [sp]
 127 0072 6B21     		movs	r1, #107
 128 0074 D020     		movs	r0, #208
 129 0076 FFF7FEFF 		bl	I2C1MenWrite
 130              	.LVL6:
  38:Modules/src/mpu6050.c ****         return false;
 131              		.loc 1 38 8 view .LVU25
 132 007a 0028     		cmp	r0, #0
 133 007c CED0     		beq	.L2
  41:Modules/src/mpu6050.c **** 
 134              		.loc 1 41 5 is_stmt 1 view .LVU26
 135 007e 0A20     		movs	r0, #10
 136 0080 FFF7FEFF 		bl	vTaskDelay
 137              	.LVL7:
  47:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
 138              		.loc 1 47 5 view .LVU27
  47:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_PWR_MGMT_1, 1, &i2c_data, 1)) {
 139              		.loc 1 47 14 is_stmt 0 view .LVU28
 140 0084 214B     		ldr	r3, .L10+4
 141 0086 0322     		movs	r2, #3
 142 0088 1A70     		strb	r2, [r3]
  48:Modules/src/mpu6050.c ****         return false;
 143              		.loc 1 48 5 is_stmt 1 view .LVU29
  48:Modules/src/mpu6050.c ****         return false;
 144              		.loc 1 48 10 is_stmt 0 view .LVU30
 145 008a 0122     		movs	r2, #1
 146 008c 0092     		str	r2, [sp]
 147 008e 6B21     		movs	r1, #107
 148 0090 D020     		movs	r0, #208
 149 0092 FFF7FEFF 		bl	I2C1MenWrite
 150              	.LVL8:
  48:Modules/src/mpu6050.c ****         return false;
 151              		.loc 1 48 8 view .LVU31
 152 0096 0028     		cmp	r0, #0
 153 0098 C0D0     		beq	.L2
  51:Modules/src/mpu6050.c **** 
 154              		.loc 1 51 5 is_stmt 1 view .LVU32
 155 009a 0520     		movs	r0, #5
 156 009c FFF7FEFF 		bl	vTaskDelay
 157              	.LVL9:
  56:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_SMPLRT_DIV, 1, &i2c_data, 1)) {
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 6


 158              		.loc 1 56 5 view .LVU33
  56:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_SMPLRT_DIV, 1, &i2c_data, 1)) {
 159              		.loc 1 56 14 is_stmt 0 view .LVU34
 160 00a0 1A4B     		ldr	r3, .L10+4
 161 00a2 0722     		movs	r2, #7
 162 00a4 1A70     		strb	r2, [r3]
  57:Modules/src/mpu6050.c ****         return false;
 163              		.loc 1 57 5 is_stmt 1 view .LVU35
  57:Modules/src/mpu6050.c ****         return false;
 164              		.loc 1 57 10 is_stmt 0 view .LVU36
 165 00a6 0122     		movs	r2, #1
 166 00a8 0092     		str	r2, [sp]
 167 00aa 1921     		movs	r1, #25
 168 00ac D020     		movs	r0, #208
 169 00ae FFF7FEFF 		bl	I2C1MenWrite
 170              	.LVL10:
  57:Modules/src/mpu6050.c ****         return false;
 171              		.loc 1 57 8 view .LVU37
 172 00b2 0028     		cmp	r0, #0
 173 00b4 B2D0     		beq	.L2
  60:Modules/src/mpu6050.c **** 
 174              		.loc 1 60 5 is_stmt 1 view .LVU38
 175 00b6 0520     		movs	r0, #5
 176 00b8 FFF7FEFF 		bl	vTaskDelay
 177              	.LVL11:
  69:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_ACCEL_CONFIG, 1, &i2c_data, 1)) {
 178              		.loc 1 69 5 view .LVU39
  69:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_ACCEL_CONFIG, 1, &i2c_data, 1)) {
 179              		.loc 1 69 14 is_stmt 0 view .LVU40
 180 00bc 134B     		ldr	r3, .L10+4
 181 00be 0022     		movs	r2, #0
 182 00c0 1A70     		strb	r2, [r3]
  70:Modules/src/mpu6050.c ****         return false;
 183              		.loc 1 70 5 is_stmt 1 view .LVU41
  70:Modules/src/mpu6050.c ****         return false;
 184              		.loc 1 70 10 is_stmt 0 view .LVU42
 185 00c2 0122     		movs	r2, #1
 186 00c4 0092     		str	r2, [sp]
 187 00c6 1C21     		movs	r1, #28
 188 00c8 D020     		movs	r0, #208
 189 00ca FFF7FEFF 		bl	I2C1MenWrite
 190              	.LVL12:
  70:Modules/src/mpu6050.c ****         return false;
 191              		.loc 1 70 8 view .LVU43
 192 00ce 0028     		cmp	r0, #0
 193 00d0 A4D0     		beq	.L2
  73:Modules/src/mpu6050.c **** 
 194              		.loc 1 73 5 is_stmt 1 view .LVU44
 195 00d2 0520     		movs	r0, #5
 196 00d4 FFF7FEFF 		bl	vTaskDelay
 197              	.LVL13:
  82:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_GYRO_CONFIG, 1, &i2c_data, 1)) {
 198              		.loc 1 82 5 view .LVU45
  82:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_GYRO_CONFIG, 1, &i2c_data, 1)) {
 199              		.loc 1 82 14 is_stmt 0 view .LVU46
 200 00d8 0C4B     		ldr	r3, .L10+4
 201 00da 1822     		movs	r2, #24
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 7


 202 00dc 1A70     		strb	r2, [r3]
  83:Modules/src/mpu6050.c ****         return false;
 203              		.loc 1 83 5 is_stmt 1 view .LVU47
  83:Modules/src/mpu6050.c ****         return false;
 204              		.loc 1 83 10 is_stmt 0 view .LVU48
 205 00de 0122     		movs	r2, #1
 206 00e0 0092     		str	r2, [sp]
 207 00e2 1B21     		movs	r1, #27
 208 00e4 D020     		movs	r0, #208
 209 00e6 FFF7FEFF 		bl	I2C1MenWrite
 210              	.LVL14:
  83:Modules/src/mpu6050.c ****         return false;
 211              		.loc 1 83 8 view .LVU49
 212 00ea 0028     		cmp	r0, #0
 213 00ec 96D0     		beq	.L2
  86:Modules/src/mpu6050.c **** 
 214              		.loc 1 86 5 is_stmt 1 view .LVU50
 215 00ee 0520     		movs	r0, #5
 216 00f0 FFF7FEFF 		bl	vTaskDelay
 217              	.LVL15:
  91:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_RA_INT_PIN_CFG, 1, &i2c_data, 1)) {
 218              		.loc 1 91 5 view .LVU51
  91:Modules/src/mpu6050.c ****     if (!I2C1MenWrite(MPU6050_DEV_ADDR, MPU6050_RA_INT_PIN_CFG, 1, &i2c_data, 1)) {
 219              		.loc 1 91 14 is_stmt 0 view .LVU52
 220 00f4 054B     		ldr	r3, .L10+4
 221 00f6 0222     		movs	r2, #2
 222 00f8 1A70     		strb	r2, [r3]
  92:Modules/src/mpu6050.c ****         return false;
 223              		.loc 1 92 5 is_stmt 1 view .LVU53
  92:Modules/src/mpu6050.c ****         return false;
 224              		.loc 1 92 10 is_stmt 0 view .LVU54
 225 00fa 0122     		movs	r2, #1
 226 00fc 0092     		str	r2, [sp]
 227 00fe 3721     		movs	r1, #55
 228 0100 D020     		movs	r0, #208
 229 0102 FFF7FEFF 		bl	I2C1MenWrite
 230              	.LVL16:
 231 0106 89E7     		b	.L2
 232              	.L11:
 233              		.align	2
 234              	.L10:
 235 0108 00000000 		.word	hi2c1
 236 010c 00000000 		.word	.LANCHOR0
 237              		.cfi_endproc
 238              	.LFE138:
 240              		.section	.text.MPU6050ReadAccelRaw,"ax",%progbits
 241              		.align	1
 242              		.global	MPU6050ReadAccelRaw
 243              		.syntax unified
 244              		.thumb
 245              		.thumb_func
 246              		.fpu fpv4-sp-d16
 248              	MPU6050ReadAccelRaw:
 249              	.LVL17:
 250              	.LFB139:
 103:Modules/src/mpu6050.c **** 
 104:Modules/src/mpu6050.c **** bool MPU6050ReadAccelRaw(int16_t *values) {
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 8


 251              		.loc 1 104 43 is_stmt 1 view -0
 252              		.cfi_startproc
 253              		@ args = 0, pretend = 0, frame = 0
 254              		@ frame_needed = 0, uses_anonymous_args = 0
 255              		.loc 1 104 43 is_stmt 0 view .LVU56
 256 0000 10B5     		push	{r4, lr}
 257              	.LCFI4:
 258              		.cfi_def_cfa_offset 8
 259              		.cfi_offset 4, -8
 260              		.cfi_offset 14, -4
 261 0002 82B0     		sub	sp, sp, #8
 262              	.LCFI5:
 263              		.cfi_def_cfa_offset 16
 264 0004 0446     		mov	r4, r0
 105:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_ACCEL_XOUT_H, 1, i2c_datas, 6)) {
 265              		.loc 1 105 5 is_stmt 1 view .LVU57
 266              		.loc 1 105 10 is_stmt 0 view .LVU58
 267 0006 0623     		movs	r3, #6
 268 0008 0093     		str	r3, [sp]
 269 000a 0C4B     		ldr	r3, .L15
 270 000c 0122     		movs	r2, #1
 271 000e 3B21     		movs	r1, #59
 272 0010 D020     		movs	r0, #208
 273              	.LVL18:
 274              		.loc 1 105 10 view .LVU59
 275 0012 FFF7FEFF 		bl	I2C1MenRead
 276              	.LVL19:
 277              		.loc 1 105 8 view .LVU60
 278 0016 78B1     		cbz	r0, .L13
 106:Modules/src/mpu6050.c ****         return false;
 107:Modules/src/mpu6050.c ****     }
 108:Modules/src/mpu6050.c **** 
 109:Modules/src/mpu6050.c **** 	values[0] = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 279              		.loc 1 109 2 is_stmt 1 view .LVU61
 280              		.loc 1 109 33 is_stmt 0 view .LVU62
 281 0018 084B     		ldr	r3, .L15
 282 001a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 283              		.loc 1 109 54 view .LVU63
 284 001c 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 285              		.loc 1 109 14 view .LVU64
 286 001e 42EA0122 		orr	r2, r2, r1, lsl #8
 287              		.loc 1 109 12 view .LVU65
 288 0022 2280     		strh	r2, [r4]	@ movhi
 110:Modules/src/mpu6050.c **** 	values[1] = (int16_t)(i2c_datas[2] << 8 | i2c_datas [3]);
 289              		.loc 1 110 2 is_stmt 1 view .LVU66
 290              		.loc 1 110 33 is_stmt 0 view .LVU67
 291 0024 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 292              		.loc 1 110 54 view .LVU68
 293 0026 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 294              		.loc 1 110 14 view .LVU69
 295 0028 42EA0122 		orr	r2, r2, r1, lsl #8
 296              		.loc 1 110 12 view .LVU70
 297 002c 6280     		strh	r2, [r4, #2]	@ movhi
 111:Modules/src/mpu6050.c **** 	values[2] = (int16_t)(i2c_datas[4] << 8 | i2c_datas [5]);
 298              		.loc 1 111 2 is_stmt 1 view .LVU71
 299              		.loc 1 111 33 is_stmt 0 view .LVU72
 300 002e 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 9


 301              		.loc 1 111 54 view .LVU73
 302 0030 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 303              		.loc 1 111 14 view .LVU74
 304 0032 43EA0223 		orr	r3, r3, r2, lsl #8
 305              		.loc 1 111 12 view .LVU75
 306 0036 A380     		strh	r3, [r4, #4]	@ movhi
 112:Modules/src/mpu6050.c **** 
 113:Modules/src/mpu6050.c ****     return true;  
 307              		.loc 1 113 5 is_stmt 1 view .LVU76
 308              	.L13:
 114:Modules/src/mpu6050.c **** }
 309              		.loc 1 114 1 is_stmt 0 view .LVU77
 310 0038 02B0     		add	sp, sp, #8
 311              	.LCFI6:
 312              		.cfi_def_cfa_offset 8
 313              		@ sp needed
 314 003a 10BD     		pop	{r4, pc}
 315              	.LVL20:
 316              	.L16:
 317              		.loc 1 114 1 view .LVU78
 318              		.align	2
 319              	.L15:
 320 003c 00000000 		.word	.LANCHOR1
 321              		.cfi_endproc
 322              	.LFE139:
 324              		.section	.text.MPU6050ReadGyroRaw,"ax",%progbits
 325              		.align	1
 326              		.global	MPU6050ReadGyroRaw
 327              		.syntax unified
 328              		.thumb
 329              		.thumb_func
 330              		.fpu fpv4-sp-d16
 332              	MPU6050ReadGyroRaw:
 333              	.LVL21:
 334              	.LFB140:
 115:Modules/src/mpu6050.c **** 
 116:Modules/src/mpu6050.c **** bool MPU6050ReadGyroRaw(int16_t *values){
 335              		.loc 1 116 41 is_stmt 1 view -0
 336              		.cfi_startproc
 337              		@ args = 0, pretend = 0, frame = 0
 338              		@ frame_needed = 0, uses_anonymous_args = 0
 339              		.loc 1 116 41 is_stmt 0 view .LVU80
 340 0000 10B5     		push	{r4, lr}
 341              	.LCFI7:
 342              		.cfi_def_cfa_offset 8
 343              		.cfi_offset 4, -8
 344              		.cfi_offset 14, -4
 345 0002 82B0     		sub	sp, sp, #8
 346              	.LCFI8:
 347              		.cfi_def_cfa_offset 16
 348 0004 0446     		mov	r4, r0
 117:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_GYRO_XOUT_H, 1, i2c_datas, 6)) {
 349              		.loc 1 117 5 is_stmt 1 view .LVU81
 350              		.loc 1 117 10 is_stmt 0 view .LVU82
 351 0006 0623     		movs	r3, #6
 352 0008 0093     		str	r3, [sp]
 353 000a 0C4B     		ldr	r3, .L20
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 10


 354 000c 0122     		movs	r2, #1
 355 000e 4321     		movs	r1, #67
 356 0010 D020     		movs	r0, #208
 357              	.LVL22:
 358              		.loc 1 117 10 view .LVU83
 359 0012 FFF7FEFF 		bl	I2C1MenRead
 360              	.LVL23:
 361              		.loc 1 117 8 view .LVU84
 362 0016 78B1     		cbz	r0, .L18
 118:Modules/src/mpu6050.c ****         return false;
 119:Modules/src/mpu6050.c ****     }
 120:Modules/src/mpu6050.c **** 
 121:Modules/src/mpu6050.c **** 	values[0] = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 363              		.loc 1 121 2 is_stmt 1 view .LVU85
 364              		.loc 1 121 33 is_stmt 0 view .LVU86
 365 0018 084B     		ldr	r3, .L20
 366 001a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 367              		.loc 1 121 54 view .LVU87
 368 001c 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 369              		.loc 1 121 14 view .LVU88
 370 001e 42EA0122 		orr	r2, r2, r1, lsl #8
 371              		.loc 1 121 12 view .LVU89
 372 0022 2280     		strh	r2, [r4]	@ movhi
 122:Modules/src/mpu6050.c **** 	values[1] = (int16_t)(i2c_datas[2] << 8 | i2c_datas [3]);
 373              		.loc 1 122 2 is_stmt 1 view .LVU90
 374              		.loc 1 122 33 is_stmt 0 view .LVU91
 375 0024 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 376              		.loc 1 122 54 view .LVU92
 377 0026 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 378              		.loc 1 122 14 view .LVU93
 379 0028 42EA0122 		orr	r2, r2, r1, lsl #8
 380              		.loc 1 122 12 view .LVU94
 381 002c 6280     		strh	r2, [r4, #2]	@ movhi
 123:Modules/src/mpu6050.c **** 	values[2] = (int16_t)(i2c_datas[4] << 8 | i2c_datas [5]);
 382              		.loc 1 123 2 is_stmt 1 view .LVU95
 383              		.loc 1 123 33 is_stmt 0 view .LVU96
 384 002e 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 385              		.loc 1 123 54 view .LVU97
 386 0030 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 387              		.loc 1 123 14 view .LVU98
 388 0032 43EA0223 		orr	r3, r3, r2, lsl #8
 389              		.loc 1 123 12 view .LVU99
 390 0036 A380     		strh	r3, [r4, #4]	@ movhi
 124:Modules/src/mpu6050.c **** 
 125:Modules/src/mpu6050.c ****     return true;  
 391              		.loc 1 125 5 is_stmt 1 view .LVU100
 392              	.L18:
 126:Modules/src/mpu6050.c **** }
 393              		.loc 1 126 1 is_stmt 0 view .LVU101
 394 0038 02B0     		add	sp, sp, #8
 395              	.LCFI9:
 396              		.cfi_def_cfa_offset 8
 397              		@ sp needed
 398 003a 10BD     		pop	{r4, pc}
 399              	.LVL24:
 400              	.L21:
 401              		.loc 1 126 1 view .LVU102
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 11


 402              		.align	2
 403              	.L20:
 404 003c 00000000 		.word	.LANCHOR1
 405              		.cfi_endproc
 406              	.LFE140:
 408              		.section	.text.MPU6050ReadAccel,"ax",%progbits
 409              		.align	1
 410              		.global	MPU6050ReadAccel
 411              		.syntax unified
 412              		.thumb
 413              		.thumb_func
 414              		.fpu fpv4-sp-d16
 416              	MPU6050ReadAccel:
 417              	.LVL25:
 418              	.LFB141:
 127:Modules/src/mpu6050.c **** 
 128:Modules/src/mpu6050.c **** bool MPU6050ReadAccel(float *accel_x, float *accel_y, float *accel_z) {
 419              		.loc 1 128 71 is_stmt 1 view -0
 420              		.cfi_startproc
 421              		@ args = 0, pretend = 0, frame = 0
 422              		@ frame_needed = 0, uses_anonymous_args = 0
 423              		.loc 1 128 71 is_stmt 0 view .LVU104
 424 0000 70B5     		push	{r4, r5, r6, lr}
 425              	.LCFI10:
 426              		.cfi_def_cfa_offset 16
 427              		.cfi_offset 4, -16
 428              		.cfi_offset 5, -12
 429              		.cfi_offset 6, -8
 430              		.cfi_offset 14, -4
 431 0002 82B0     		sub	sp, sp, #8
 432              	.LCFI11:
 433              		.cfi_def_cfa_offset 24
 434 0004 0646     		mov	r6, r0
 435 0006 0D46     		mov	r5, r1
 436 0008 1446     		mov	r4, r2
 129:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_ACCEL_XOUT_H, 1, i2c_datas, 6)) {
 437              		.loc 1 129 5 is_stmt 1 view .LVU105
 438              		.loc 1 129 10 is_stmt 0 view .LVU106
 439 000a 0623     		movs	r3, #6
 440 000c 0093     		str	r3, [sp]
 441 000e 1A4B     		ldr	r3, .L25
 442 0010 0122     		movs	r2, #1
 443              	.LVL26:
 444              		.loc 1 129 10 view .LVU107
 445 0012 3B21     		movs	r1, #59
 446              	.LVL27:
 447              		.loc 1 129 10 view .LVU108
 448 0014 D020     		movs	r0, #208
 449              	.LVL28:
 450              		.loc 1 129 10 view .LVU109
 451 0016 FFF7FEFF 		bl	I2C1MenRead
 452              	.LVL29:
 453              		.loc 1 129 8 view .LVU110
 454 001a 0146     		mov	r1, r0
 455 001c 48B3     		cbz	r0, .L23
 130:Modules/src/mpu6050.c ****         return false;
 131:Modules/src/mpu6050.c ****     }
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 12


 132:Modules/src/mpu6050.c **** 
 133:Modules/src/mpu6050.c **** 	ax_raw = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 456              		.loc 1 133 2 is_stmt 1 view .LVU111
 457              		.loc 1 133 30 is_stmt 0 view .LVU112
 458 001e 164A     		ldr	r2, .L25
 459 0020 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 460              		.loc 1 133 51 view .LVU113
 461 0022 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 462              		.loc 1 133 11 view .LVU114
 463 0024 43EA0023 		orr	r3, r3, r0, lsl #8
 464 0028 1BB2     		sxth	r3, r3
 465 002a 06EE903A 		vmov	s13, r3	@ int
 134:Modules/src/mpu6050.c **** 	ay_raw = (int16_t)(i2c_datas[2] << 8 | i2c_datas [3]);
 466              		.loc 1 134 2 is_stmt 1 view .LVU115
 467              		.loc 1 134 30 is_stmt 0 view .LVU116
 468 002e 9078     		ldrb	r0, [r2, #2]	@ zero_extendqisi2
 469              		.loc 1 134 51 view .LVU117
 470 0030 D378     		ldrb	r3, [r2, #3]	@ zero_extendqisi2
 471              		.loc 1 134 11 view .LVU118
 472 0032 43EA0023 		orr	r3, r3, r0, lsl #8
 473 0036 1BB2     		sxth	r3, r3
 474 0038 07EE103A 		vmov	s14, r3	@ int
 135:Modules/src/mpu6050.c **** 	az_raw = (int16_t)(i2c_datas[4] << 8 | i2c_datas [5]);
 475              		.loc 1 135 2 is_stmt 1 view .LVU119
 476              		.loc 1 135 30 is_stmt 0 view .LVU120
 477 003c 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 478              		.loc 1 135 51 view .LVU121
 479 003e 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 480              		.loc 1 135 11 view .LVU122
 481 0040 43EA0023 		orr	r3, r3, r0, lsl #8
 482 0044 1BB2     		sxth	r3, r3
 483 0046 07EE903A 		vmov	s15, r3	@ int
 136:Modules/src/mpu6050.c **** 
 137:Modules/src/mpu6050.c **** 	/*** convert the RAW values into acceleration in 'g'
 138:Modules/src/mpu6050.c **** 	     we have to divide according to the Full scale value set in FS_SEL
 139:Modules/src/mpu6050.c **** 	     I have configured FS_SEL = 0. So I am dividing by 16384.0
 140:Modules/src/mpu6050.c **** 	     for more details check ACCEL_CONFIG Register              ****/
 141:Modules/src/mpu6050.c **** 
 142:Modules/src/mpu6050.c **** 	*accel_x = ax_raw / 16384.f;
 484              		.loc 1 142 2 is_stmt 1 view .LVU123
 485              		.loc 1 142 20 is_stmt 0 view .LVU124
 486 004a F8EEE66A 		vcvt.f32.s32	s13, s13
 487 004e 9FED0B6A 		vldr.32	s12, .L25+4
 488 0052 66EE866A 		vmul.f32	s13, s13, s12
 489              		.loc 1 142 11 view .LVU125
 490 0056 C6ED006A 		vstr.32	s13, [r6]
 143:Modules/src/mpu6050.c **** 	*accel_y = ay_raw / 16384.f;
 491              		.loc 1 143 2 is_stmt 1 view .LVU126
 492              		.loc 1 143 20 is_stmt 0 view .LVU127
 493 005a B8EEC77A 		vcvt.f32.s32	s14, s14
 494 005e 27EE067A 		vmul.f32	s14, s14, s12
 495              		.loc 1 143 11 view .LVU128
 496 0062 85ED007A 		vstr.32	s14, [r5]
 144:Modules/src/mpu6050.c **** 	*accel_z = az_raw / 16384.f;
 497              		.loc 1 144 2 is_stmt 1 view .LVU129
 498              		.loc 1 144 20 is_stmt 0 view .LVU130
 499 0066 F8EEE77A 		vcvt.f32.s32	s15, s15
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 13


 500 006a 67EE867A 		vmul.f32	s15, s15, s12
 501              		.loc 1 144 11 view .LVU131
 502 006e C4ED007A 		vstr.32	s15, [r4]
 145:Modules/src/mpu6050.c **** 
 146:Modules/src/mpu6050.c ****     return true;  
 503              		.loc 1 146 5 is_stmt 1 view .LVU132
 504              	.L23:
 147:Modules/src/mpu6050.c **** }
 505              		.loc 1 147 1 is_stmt 0 view .LVU133
 506 0072 0846     		mov	r0, r1
 507 0074 02B0     		add	sp, sp, #8
 508              	.LCFI12:
 509              		.cfi_def_cfa_offset 16
 510              		@ sp needed
 511 0076 70BD     		pop	{r4, r5, r6, pc}
 512              	.LVL30:
 513              	.L26:
 514              		.loc 1 147 1 view .LVU134
 515              		.align	2
 516              	.L25:
 517 0078 00000000 		.word	.LANCHOR1
 518 007c 00008038 		.word	947912704
 519              		.cfi_endproc
 520              	.LFE141:
 522              		.section	.text.MPU6050ReadGyro,"ax",%progbits
 523              		.align	1
 524              		.global	MPU6050ReadGyro
 525              		.syntax unified
 526              		.thumb
 527              		.thumb_func
 528              		.fpu fpv4-sp-d16
 530              	MPU6050ReadGyro:
 531              	.LVL31:
 532              	.LFB142:
 148:Modules/src/mpu6050.c **** 
 149:Modules/src/mpu6050.c **** bool MPU6050ReadGyro(float *gx, float *gy, float *gz){
 533              		.loc 1 149 54 is_stmt 1 view -0
 534              		.cfi_startproc
 535              		@ args = 0, pretend = 0, frame = 0
 536              		@ frame_needed = 0, uses_anonymous_args = 0
 537              		.loc 1 149 54 is_stmt 0 view .LVU136
 538 0000 70B5     		push	{r4, r5, r6, lr}
 539              	.LCFI13:
 540              		.cfi_def_cfa_offset 16
 541              		.cfi_offset 4, -16
 542              		.cfi_offset 5, -12
 543              		.cfi_offset 6, -8
 544              		.cfi_offset 14, -4
 545 0002 82B0     		sub	sp, sp, #8
 546              	.LCFI14:
 547              		.cfi_def_cfa_offset 24
 548 0004 0646     		mov	r6, r0
 549 0006 0D46     		mov	r5, r1
 550 0008 1446     		mov	r4, r2
 150:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_GYRO_XOUT_H, 1, i2c_datas, 6)) {
 551              		.loc 1 150 5 is_stmt 1 view .LVU137
 552              		.loc 1 150 10 is_stmt 0 view .LVU138
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 14


 553 000a 0623     		movs	r3, #6
 554 000c 0093     		str	r3, [sp]
 555 000e 1A4B     		ldr	r3, .L30
 556 0010 0122     		movs	r2, #1
 557              	.LVL32:
 558              		.loc 1 150 10 view .LVU139
 559 0012 4321     		movs	r1, #67
 560              	.LVL33:
 561              		.loc 1 150 10 view .LVU140
 562 0014 D020     		movs	r0, #208
 563              	.LVL34:
 564              		.loc 1 150 10 view .LVU141
 565 0016 FFF7FEFF 		bl	I2C1MenRead
 566              	.LVL35:
 567              		.loc 1 150 8 view .LVU142
 568 001a 0146     		mov	r1, r0
 569 001c 48B3     		cbz	r0, .L28
 151:Modules/src/mpu6050.c ****         return false;
 152:Modules/src/mpu6050.c ****     }
 153:Modules/src/mpu6050.c **** 
 154:Modules/src/mpu6050.c **** 	gx_raw = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 570              		.loc 1 154 2 is_stmt 1 view .LVU143
 571              		.loc 1 154 30 is_stmt 0 view .LVU144
 572 001e 164A     		ldr	r2, .L30
 573 0020 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 574              		.loc 1 154 51 view .LVU145
 575 0022 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 576              		.loc 1 154 11 view .LVU146
 577 0024 43EA0023 		orr	r3, r3, r0, lsl #8
 578 0028 1BB2     		sxth	r3, r3
 579 002a 07EE103A 		vmov	s14, r3	@ int
 155:Modules/src/mpu6050.c **** 	gy_raw = (int16_t)(i2c_datas[2] << 8 | i2c_datas [3]);
 580              		.loc 1 155 2 is_stmt 1 view .LVU147
 581              		.loc 1 155 30 is_stmt 0 view .LVU148
 582 002e 9078     		ldrb	r0, [r2, #2]	@ zero_extendqisi2
 583              		.loc 1 155 51 view .LVU149
 584 0030 D378     		ldrb	r3, [r2, #3]	@ zero_extendqisi2
 585              		.loc 1 155 11 view .LVU150
 586 0032 43EA0023 		orr	r3, r3, r0, lsl #8
 587 0036 1BB2     		sxth	r3, r3
 588 0038 07EE903A 		vmov	s15, r3	@ int
 156:Modules/src/mpu6050.c **** 	gz_raw = (int16_t)(i2c_datas[4] << 8 | i2c_datas [5]);
 589              		.loc 1 156 2 is_stmt 1 view .LVU151
 590              		.loc 1 156 30 is_stmt 0 view .LVU152
 591 003c 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 592              		.loc 1 156 51 view .LVU153
 593 003e 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 594              		.loc 1 156 11 view .LVU154
 595 0040 43EA0023 		orr	r3, r3, r0, lsl #8
 596 0044 1BB2     		sxth	r3, r3
 157:Modules/src/mpu6050.c **** 
 158:Modules/src/mpu6050.c **** 	/*** convert the RAW values into dps (?/s)
 159:Modules/src/mpu6050.c **** 	     we have to divide according to the Full scale value set in FS_SEL
 160:Modules/src/mpu6050.c **** 	     I have configured FS_SEL = 0. So I am dividing by 131.0
 161:Modules/src/mpu6050.c **** 	     for more details check GYRO_CONFIG Register              ****/
 162:Modules/src/mpu6050.c **** 
 163:Modules/src/mpu6050.c **** 	*gx = gx_raw / 16.4f;
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 15


 597              		.loc 1 163 2 is_stmt 1 view .LVU155
 598              		.loc 1 163 15 is_stmt 0 view .LVU156
 599 0046 B8EEC77A 		vcvt.f32.s32	s14, s14
 600 004a DFED0C6A 		vldr.32	s13, .L30+4
 601 004e 87EE266A 		vdiv.f32	s12, s14, s13
 602              		.loc 1 163 6 view .LVU157
 603 0052 86ED006A 		vstr.32	s12, [r6]
 164:Modules/src/mpu6050.c **** 	*gy = gy_raw / 16.4f;
 604              		.loc 1 164 2 is_stmt 1 view .LVU158
 605              		.loc 1 164 15 is_stmt 0 view .LVU159
 606 0056 F8EEE77A 		vcvt.f32.s32	s15, s15
 607 005a 87EEA67A 		vdiv.f32	s14, s15, s13
 608              		.loc 1 164 6 view .LVU160
 609 005e 85ED007A 		vstr.32	s14, [r5]
 165:Modules/src/mpu6050.c **** 	*gz = gz_raw / 16.4f;
 610              		.loc 1 165 2 is_stmt 1 view .LVU161
 611              		.loc 1 165 15 is_stmt 0 view .LVU162
 612 0062 07EE903A 		vmov	s15, r3	@ int
 613 0066 F8EEE77A 		vcvt.f32.s32	s15, s15
 614 006a 87EEA67A 		vdiv.f32	s14, s15, s13
 615              		.loc 1 165 6 view .LVU163
 616 006e 84ED007A 		vstr.32	s14, [r4]
 166:Modules/src/mpu6050.c **** 
 167:Modules/src/mpu6050.c ****     return true;  
 617              		.loc 1 167 5 is_stmt 1 view .LVU164
 618              	.L28:
 168:Modules/src/mpu6050.c **** }
 619              		.loc 1 168 1 is_stmt 0 view .LVU165
 620 0072 0846     		mov	r0, r1
 621 0074 02B0     		add	sp, sp, #8
 622              	.LCFI15:
 623              		.cfi_def_cfa_offset 16
 624              		@ sp needed
 625 0076 70BD     		pop	{r4, r5, r6, pc}
 626              	.LVL36:
 627              	.L31:
 628              		.loc 1 168 1 view .LVU166
 629              		.align	2
 630              	.L30:
 631 0078 00000000 		.word	.LANCHOR1
 632 007c 33338341 		.word	1099117363
 633              		.cfi_endproc
 634              	.LFE142:
 636              		.global	__aeabi_f2d
 637              		.global	__aeabi_dadd
 638              		.global	__aeabi_d2f
 639              		.section	.text.MPU6050ReadTemp,"ax",%progbits
 640              		.align	1
 641              		.global	MPU6050ReadTemp
 642              		.syntax unified
 643              		.thumb
 644              		.thumb_func
 645              		.fpu fpv4-sp-d16
 647              	MPU6050ReadTemp:
 648              	.LVL37:
 649              	.LFB143:
 169:Modules/src/mpu6050.c **** 
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 16


 170:Modules/src/mpu6050.c **** bool MPU6050ReadTemp(float *celsius) {
 650              		.loc 1 170 38 is_stmt 1 view -0
 651              		.cfi_startproc
 652              		@ args = 0, pretend = 0, frame = 0
 653              		@ frame_needed = 0, uses_anonymous_args = 0
 654              		.loc 1 170 38 is_stmt 0 view .LVU168
 655 0000 30B5     		push	{r4, r5, lr}
 656              	.LCFI16:
 657              		.cfi_def_cfa_offset 12
 658              		.cfi_offset 4, -12
 659              		.cfi_offset 5, -8
 660              		.cfi_offset 14, -4
 661 0002 83B0     		sub	sp, sp, #12
 662              	.LCFI17:
 663              		.cfi_def_cfa_offset 24
 664 0004 0546     		mov	r5, r0
 171:Modules/src/mpu6050.c ****     if (!I2C1MenRead(MPU6050_DEV_ADDR, MPU6050_TEMP_OUT_H, 1, i2c_datas, 2)) {
 665              		.loc 1 171 5 is_stmt 1 view .LVU169
 666              		.loc 1 171 10 is_stmt 0 view .LVU170
 667 0006 0223     		movs	r3, #2
 668 0008 0093     		str	r3, [sp]
 669 000a 154B     		ldr	r3, .L35+8
 670 000c 0122     		movs	r2, #1
 671 000e 4121     		movs	r1, #65
 672 0010 D020     		movs	r0, #208
 673              	.LVL38:
 674              		.loc 1 171 10 view .LVU171
 675 0012 FFF7FEFF 		bl	I2C1MenRead
 676              	.LVL39:
 677              		.loc 1 171 8 view .LVU172
 678 0016 0446     		mov	r4, r0
 679 0018 C8B1     		cbz	r0, .L33
 172:Modules/src/mpu6050.c ****         return false;
 173:Modules/src/mpu6050.c ****     }
 174:Modules/src/mpu6050.c **** 
 175:Modules/src/mpu6050.c **** 	celsius_raw = (int16_t)(i2c_datas[0] << 8 | i2c_datas [1]);
 680              		.loc 1 175 2 is_stmt 1 view .LVU173
 681              		.loc 1 175 35 is_stmt 0 view .LVU174
 682 001a 114A     		ldr	r2, .L35+8
 683 001c 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 684              		.loc 1 175 56 view .LVU175
 685 001e 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 686              		.loc 1 175 16 view .LVU176
 687 0020 43EA0123 		orr	r3, r3, r1, lsl #8
 688 0024 1BB2     		sxth	r3, r3
 176:Modules/src/mpu6050.c **** 	*celsius =  36.53 + (float)celsius_raw / 340.f;
 689              		.loc 1 176 2 is_stmt 1 view .LVU177
 690              		.loc 1 176 22 is_stmt 0 view .LVU178
 691 0026 07EE903A 		vmov	s15, r3	@ int
 692 002a F8EEE77A 		vcvt.f32.s32	s15, s15
 693              		.loc 1 176 41 view .LVU179
 694 002e 9FED0D7A 		vldr.32	s14, .L35+12
 695 0032 C7EE877A 		vdiv.f32	s15, s15, s14
 696 0036 17EE900A 		vmov	r0, s15
 697 003a FFF7FEFF 		bl	__aeabi_f2d
 698              	.LVL40:
 699              		.loc 1 176 20 view .LVU180
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 17


 700 003e 06A3     		adr	r3, .L35
 701 0040 D3E90023 		ldrd	r2, [r3]
 702 0044 FFF7FEFF 		bl	__aeabi_dadd
 703              	.LVL41:
 704 0048 FFF7FEFF 		bl	__aeabi_d2f
 705              	.LVL42:
 706              		.loc 1 176 11 view .LVU181
 707 004c 2860     		str	r0, [r5]	@ float
 177:Modules/src/mpu6050.c **** 
 178:Modules/src/mpu6050.c ****     return true;      
 708              		.loc 1 178 5 is_stmt 1 view .LVU182
 709              	.L33:
 179:Modules/src/mpu6050.c **** }...
 710              		.loc 1 179 1 is_stmt 0 view .LVU183
 711 004e 2046     		mov	r0, r4
 712 0050 03B0     		add	sp, sp, #12
 713              	.LCFI18:
 714              		.cfi_def_cfa_offset 12
 715              		@ sp needed
 716 0052 30BD     		pop	{r4, r5, pc}
 717              	.LVL43:
 718              	.L36:
 719              		.loc 1 179 1 view .LVU184
 720 0054 AFF30080 		.align	3
 721              	.L35:
 722 0058 A4703D0A 		.word	171798692
 723 005c D7434240 		.word	1078084567
 724 0060 00000000 		.word	.LANCHOR1
 725 0064 0000AA43 		.word	1135214592
 726              		.cfi_endproc
 727              	.LFE143:
 729              		.section	.bss.i2c_data,"aw",%nobits
 730              		.set	.LANCHOR0,. + 0
 733              	i2c_data:
 734 0000 00       		.space	1
 735              		.section	.bss.i2c_datas,"aw",%nobits
 736              		.align	2
 737              		.set	.LANCHOR1,. + 0
 740              	i2c_datas:
 741 0000 00000000 		.space	6
 741      0000
 742              		.text
 743              	.Letext0:
 744              		.file 2 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\machine\\_default_ty
 745              		.file 3 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 746              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 747              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 748              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 749              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 750              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 751              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 752              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 753              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 754              		.file 12 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 755              		.file 13 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 756              		.file 14 "e:\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 757              		.file 15 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 18


 758              		.file 16 "Modules/include/utils.h"
 759              		.file 17 "Inc/i2c.h"
 760              		.file 18 "Middlewares/Third_Party/SystemView/SEGGER/SEGGER_SYSVIEW.h"
 761              		.file 19 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
 762              		.file 20 "Modules/include/i2c1.h"
 763              		.file 21 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 mpu6050.c
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:18     .text.MPU6050Init:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:26     .text.MPU6050Init:00000000 MPU6050Init
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:235    .text.MPU6050Init:00000108 $d
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:241    .text.MPU6050ReadAccelRaw:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:248    .text.MPU6050ReadAccelRaw:00000000 MPU6050ReadAccelRaw
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:320    .text.MPU6050ReadAccelRaw:0000003c $d
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:325    .text.MPU6050ReadGyroRaw:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:332    .text.MPU6050ReadGyroRaw:00000000 MPU6050ReadGyroRaw
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:404    .text.MPU6050ReadGyroRaw:0000003c $d
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:409    .text.MPU6050ReadAccel:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:416    .text.MPU6050ReadAccel:00000000 MPU6050ReadAccel
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:517    .text.MPU6050ReadAccel:00000078 $d
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:523    .text.MPU6050ReadGyro:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:530    .text.MPU6050ReadGyro:00000000 MPU6050ReadGyro
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:631    .text.MPU6050ReadGyro:00000078 $d
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:640    .text.MPU6050ReadTemp:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:647    .text.MPU6050ReadTemp:00000000 MPU6050ReadTemp
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:722    .text.MPU6050ReadTemp:00000058 $d
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:733    .bss.i2c_data:00000000 i2c_data
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:734    .bss.i2c_data:00000000 $d
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:736    .bss.i2c_datas:00000000 $d
C:\Users\luoha\AppData\Local\Temp\ccsW93f1.s:740    .bss.i2c_datas:00000000 i2c_datas

UNDEFINED SYMBOLS
vTaskDelay
HAL_I2C_IsDeviceReady
I2C1MenRead
HAL_I2C_Mem_Write_DMA
I2C1MenWrite
hi2c1
__aeabi_f2d
__aeabi_dadd
__aeabi_d2f

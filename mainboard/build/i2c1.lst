ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"i2c1.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.I2C1MenRead,"ax",%progbits
  18              		.align	1
  19              		.global	I2C1MenRead
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	I2C1MenRead:
  27              	.LVL0:
  28              	.LFB138:
  29              		.file 1 "Modules/src/i2c1.c"
   1:Modules/src/i2c1.c **** #include "i2c1.h"
   2:Modules/src/i2c1.c **** 
   3:Modules/src/i2c1.c **** #define I2C_MAX_WAIT pdMS_TO_TICKS(1000UL)
   4:Modules/src/i2c1.c **** 
   5:Modules/src/i2c1.c **** static TaskHandle_t i2c1_notify = NULL;
   6:Modules/src/i2c1.c **** static u_int32_t notify_value = 0;
   7:Modules/src/i2c1.c **** 
   8:Modules/src/i2c1.c **** bool I2C1MenRead(uint16_t DevAddress, uint16_t MemAddress, uint16_t MemAddSize, uint8_t *pData, uin
  30              		.loc 1 8 112 view -0
  31              		.cfi_startproc
  32              		@ args = 4, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 8 112 is_stmt 0 view .LVU1
  35 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 20
  38              		.cfi_offset 4, -20
  39              		.cfi_offset 5, -16
  40              		.cfi_offset 6, -12
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 83B0     		sub	sp, sp, #12
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 32
  46 0004 0446     		mov	r4, r0
  47 0006 0D46     		mov	r5, r1
  48 0008 1646     		mov	r6, r2
  49 000a 1F46     		mov	r7, r3
   9:Modules/src/i2c1.c ****     i2c1_notify = xTaskGetCurrentTaskHandle();
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 2


  50              		.loc 1 9 5 is_stmt 1 view .LVU2
  51              		.loc 1 9 19 is_stmt 0 view .LVU3
  52 000c FFF7FEFF 		bl	xTaskGetCurrentTaskHandle
  53              	.LVL1:
  54              		.loc 1 9 17 view .LVU4
  55 0010 0D4B     		ldr	r3, .L7
  56 0012 1860     		str	r0, [r3]
  10:Modules/src/i2c1.c ****     if(HAL_I2C_Mem_Read_DMA(&hi2c1, DevAddress, MemAddress, MemAddSize, pData, Size) == HAL_OK) {
  57              		.loc 1 10 5 is_stmt 1 view .LVU5
  58              		.loc 1 10 8 is_stmt 0 view .LVU6
  59 0014 BDF82030 		ldrh	r3, [sp, #32]
  60 0018 0193     		str	r3, [sp, #4]
  61 001a 0097     		str	r7, [sp]
  62 001c 3346     		mov	r3, r6
  63 001e 2A46     		mov	r2, r5
  64 0020 2146     		mov	r1, r4
  65 0022 0A48     		ldr	r0, .L7+4
  66 0024 FFF7FEFF 		bl	HAL_I2C_Mem_Read_DMA
  67              	.LVL2:
  68              		.loc 1 10 7 view .LVU7
  69 0028 10B1     		cbz	r0, .L6
  11:Modules/src/i2c1.c ****         // printf("ulTaskNotifyTake\r\n");
  12:Modules/src/i2c1.c ****         notify_value = ulTaskNotifyTake(pdTRUE, I2C_MAX_WAIT);
  13:Modules/src/i2c1.c ****         // printf("%lu\r\n", notify_value);
  14:Modules/src/i2c1.c ****         if (notify_value == 1) {
  15:Modules/src/i2c1.c ****             return true;
  16:Modules/src/i2c1.c ****         }
  17:Modules/src/i2c1.c ****     } 
  18:Modules/src/i2c1.c ****     return false;
  70              		.loc 1 18 12 view .LVU8
  71 002a 0020     		movs	r0, #0
  72              	.L2:
  19:Modules/src/i2c1.c **** }
  73              		.loc 1 19 1 view .LVU9
  74 002c 03B0     		add	sp, sp, #12
  75              	.LCFI2:
  76              		.cfi_remember_state
  77              		.cfi_def_cfa_offset 20
  78              		@ sp needed
  79 002e F0BD     		pop	{r4, r5, r6, r7, pc}
  80              	.LVL3:
  81              	.L6:
  82              	.LCFI3:
  83              		.cfi_restore_state
  12:Modules/src/i2c1.c ****         // printf("%lu\r\n", notify_value);
  84              		.loc 1 12 9 is_stmt 1 view .LVU10
  12:Modules/src/i2c1.c ****         // printf("%lu\r\n", notify_value);
  85              		.loc 1 12 24 is_stmt 0 view .LVU11
  86 0030 4FF47A71 		mov	r1, #1000
  87 0034 0120     		movs	r0, #1
  88 0036 FFF7FEFF 		bl	ulTaskNotifyTake
  89              	.LVL4:
  14:Modules/src/i2c1.c ****             return true;
  90              		.loc 1 14 9 is_stmt 1 view .LVU12
  14:Modules/src/i2c1.c ****             return true;
  91              		.loc 1 14 12 is_stmt 0 view .LVU13
  92 003a 0128     		cmp	r0, #1
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 3


  93 003c 01D0     		beq	.L4
  18:Modules/src/i2c1.c **** }
  94              		.loc 1 18 12 view .LVU14
  95 003e 0020     		movs	r0, #0
  96 0040 F4E7     		b	.L2
  97              	.L4:
  15:Modules/src/i2c1.c ****         }
  98              		.loc 1 15 20 view .LVU15
  99 0042 0120     		movs	r0, #1
 100 0044 F2E7     		b	.L2
 101              	.L8:
 102 0046 00BF     		.align	2
 103              	.L7:
 104 0048 00000000 		.word	.LANCHOR0
 105 004c 00000000 		.word	hi2c1
 106              		.cfi_endproc
 107              	.LFE138:
 109              		.section	.text.I2C1MenWrite,"ax",%progbits
 110              		.align	1
 111              		.global	I2C1MenWrite
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 115              		.fpu fpv4-sp-d16
 117              	I2C1MenWrite:
 118              	.LVL5:
 119              	.LFB139:
  20:Modules/src/i2c1.c **** 
  21:Modules/src/i2c1.c **** bool I2C1MenWrite(uint16_t DevAddress, uint16_t MemAddress, uint16_t MemAddSize, uint8_t *pData, ui
 120              		.loc 1 21 113 is_stmt 1 view -0
 121              		.cfi_startproc
 122              		@ args = 4, pretend = 0, frame = 0
 123              		@ frame_needed = 0, uses_anonymous_args = 0
 124              		.loc 1 21 113 is_stmt 0 view .LVU17
 125 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 126              	.LCFI4:
 127              		.cfi_def_cfa_offset 20
 128              		.cfi_offset 4, -20
 129              		.cfi_offset 5, -16
 130              		.cfi_offset 6, -12
 131              		.cfi_offset 7, -8
 132              		.cfi_offset 14, -4
 133 0002 83B0     		sub	sp, sp, #12
 134              	.LCFI5:
 135              		.cfi_def_cfa_offset 32
 136 0004 0446     		mov	r4, r0
 137 0006 0D46     		mov	r5, r1
 138 0008 1646     		mov	r6, r2
 139 000a 1F46     		mov	r7, r3
  22:Modules/src/i2c1.c ****     i2c1_notify = xTaskGetCurrentTaskHandle();
 140              		.loc 1 22 5 is_stmt 1 view .LVU18
 141              		.loc 1 22 19 is_stmt 0 view .LVU19
 142 000c FFF7FEFF 		bl	xTaskGetCurrentTaskHandle
 143              	.LVL6:
 144              		.loc 1 22 17 view .LVU20
 145 0010 0D4B     		ldr	r3, .L15
 146 0012 1860     		str	r0, [r3]
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 4


  23:Modules/src/i2c1.c ****     if(HAL_I2C_Mem_Write_DMA(&hi2c1, DevAddress, MemAddress, MemAddSize, pData, Size) == HAL_OK) {
 147              		.loc 1 23 5 is_stmt 1 view .LVU21
 148              		.loc 1 23 8 is_stmt 0 view .LVU22
 149 0014 BDF82030 		ldrh	r3, [sp, #32]
 150 0018 0193     		str	r3, [sp, #4]
 151 001a 0097     		str	r7, [sp]
 152 001c 3346     		mov	r3, r6
 153 001e 2A46     		mov	r2, r5
 154 0020 2146     		mov	r1, r4
 155 0022 0A48     		ldr	r0, .L15+4
 156 0024 FFF7FEFF 		bl	HAL_I2C_Mem_Write_DMA
 157              	.LVL7:
 158              		.loc 1 23 7 view .LVU23
 159 0028 10B1     		cbz	r0, .L14
  24:Modules/src/i2c1.c ****         // vTaskDelay(pdMS_TO_TICKS(1000));
  25:Modules/src/i2c1.c ****         // // printf("ulTaskNotifyTake\r\n");
  26:Modules/src/i2c1.c ****         notify_value = ulTaskNotifyTake(pdTRUE, I2C_MAX_WAIT);
  27:Modules/src/i2c1.c ****         // // printf("notify_value:%lu\r\n", notify_value);
  28:Modules/src/i2c1.c ****         if (notify_value == 1) {
  29:Modules/src/i2c1.c ****             return true;
  30:Modules/src/i2c1.c ****         }
  31:Modules/src/i2c1.c ****     } 
  32:Modules/src/i2c1.c ****     return false;
 160              		.loc 1 32 12 view .LVU24
 161 002a 0020     		movs	r0, #0
 162              	.L10:
  33:Modules/src/i2c1.c **** }
 163              		.loc 1 33 1 view .LVU25
 164 002c 03B0     		add	sp, sp, #12
 165              	.LCFI6:
 166              		.cfi_remember_state
 167              		.cfi_def_cfa_offset 20
 168              		@ sp needed
 169 002e F0BD     		pop	{r4, r5, r6, r7, pc}
 170              	.LVL8:
 171              	.L14:
 172              	.LCFI7:
 173              		.cfi_restore_state
  26:Modules/src/i2c1.c ****         // // printf("notify_value:%lu\r\n", notify_value);
 174              		.loc 1 26 9 is_stmt 1 view .LVU26
  26:Modules/src/i2c1.c ****         // // printf("notify_value:%lu\r\n", notify_value);
 175              		.loc 1 26 24 is_stmt 0 view .LVU27
 176 0030 4FF47A71 		mov	r1, #1000
 177 0034 0120     		movs	r0, #1
 178 0036 FFF7FEFF 		bl	ulTaskNotifyTake
 179              	.LVL9:
  28:Modules/src/i2c1.c ****             return true;
 180              		.loc 1 28 9 is_stmt 1 view .LVU28
  28:Modules/src/i2c1.c ****             return true;
 181              		.loc 1 28 12 is_stmt 0 view .LVU29
 182 003a 0128     		cmp	r0, #1
 183 003c 01D0     		beq	.L12
  32:Modules/src/i2c1.c **** }
 184              		.loc 1 32 12 view .LVU30
 185 003e 0020     		movs	r0, #0
 186 0040 F4E7     		b	.L10
 187              	.L12:
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 5


  29:Modules/src/i2c1.c ****         }
 188              		.loc 1 29 20 view .LVU31
 189 0042 0120     		movs	r0, #1
 190 0044 F2E7     		b	.L10
 191              	.L16:
 192 0046 00BF     		.align	2
 193              	.L15:
 194 0048 00000000 		.word	.LANCHOR0
 195 004c 00000000 		.word	hi2c1
 196              		.cfi_endproc
 197              	.LFE139:
 199              		.section	.text.I2C1Read,"ax",%progbits
 200              		.align	1
 201              		.global	I2C1Read
 202              		.syntax unified
 203              		.thumb
 204              		.thumb_func
 205              		.fpu fpv4-sp-d16
 207              	I2C1Read:
 208              	.LVL10:
 209              	.LFB140:
  34:Modules/src/i2c1.c **** 
  35:Modules/src/i2c1.c **** bool I2C1Read(uint16_t DevAddress, uint8_t *pData, uint16_t Size) {
 210              		.loc 1 35 67 is_stmt 1 view -0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 214              		.loc 1 35 67 is_stmt 0 view .LVU33
 215 0000 70B5     		push	{r4, r5, r6, lr}
 216              	.LCFI8:
 217              		.cfi_def_cfa_offset 16
 218              		.cfi_offset 4, -16
 219              		.cfi_offset 5, -12
 220              		.cfi_offset 6, -8
 221              		.cfi_offset 14, -4
 222 0002 0446     		mov	r4, r0
 223 0004 0D46     		mov	r5, r1
 224 0006 1646     		mov	r6, r2
  36:Modules/src/i2c1.c ****     i2c1_notify = xTaskGetCurrentTaskHandle();
 225              		.loc 1 36 5 is_stmt 1 view .LVU34
 226              		.loc 1 36 19 is_stmt 0 view .LVU35
 227 0008 FFF7FEFF 		bl	xTaskGetCurrentTaskHandle
 228              	.LVL11:
 229              		.loc 1 36 17 view .LVU36
 230 000c 0A4B     		ldr	r3, .L23
 231 000e 1860     		str	r0, [r3]
  37:Modules/src/i2c1.c ****     if(HAL_I2C_Master_Receive_DMA(&hi2c1, DevAddress, pData, Size) == HAL_OK) {
 232              		.loc 1 37 5 is_stmt 1 view .LVU37
 233              		.loc 1 37 8 is_stmt 0 view .LVU38
 234 0010 3346     		mov	r3, r6
 235 0012 2A46     		mov	r2, r5
 236 0014 2146     		mov	r1, r4
 237 0016 0948     		ldr	r0, .L23+4
 238 0018 FFF7FEFF 		bl	HAL_I2C_Master_Receive_DMA
 239              	.LVL12:
 240              		.loc 1 37 7 view .LVU39
 241 001c 08B1     		cbz	r0, .L22
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 6


  38:Modules/src/i2c1.c ****         // printf("ulTaskNotifyTake\r\n");
  39:Modules/src/i2c1.c ****         notify_value = ulTaskNotifyTake(pdTRUE, I2C_MAX_WAIT);
  40:Modules/src/i2c1.c ****         // printf("%lu\r\n", notify_value);
  41:Modules/src/i2c1.c ****         if (notify_value == 1) {
  42:Modules/src/i2c1.c ****             return true;
  43:Modules/src/i2c1.c ****         }
  44:Modules/src/i2c1.c ****     } 
  45:Modules/src/i2c1.c ****     return false;
 242              		.loc 1 45 12 view .LVU40
 243 001e 0020     		movs	r0, #0
 244              	.L18:
  46:Modules/src/i2c1.c **** }
 245              		.loc 1 46 1 view .LVU41
 246 0020 70BD     		pop	{r4, r5, r6, pc}
 247              	.LVL13:
 248              	.L22:
  39:Modules/src/i2c1.c ****         // printf("%lu\r\n", notify_value);
 249              		.loc 1 39 9 is_stmt 1 view .LVU42
  39:Modules/src/i2c1.c ****         // printf("%lu\r\n", notify_value);
 250              		.loc 1 39 24 is_stmt 0 view .LVU43
 251 0022 4FF47A71 		mov	r1, #1000
 252 0026 0120     		movs	r0, #1
 253 0028 FFF7FEFF 		bl	ulTaskNotifyTake
 254              	.LVL14:
  41:Modules/src/i2c1.c ****             return true;
 255              		.loc 1 41 9 is_stmt 1 view .LVU44
  41:Modules/src/i2c1.c ****             return true;
 256              		.loc 1 41 12 is_stmt 0 view .LVU45
 257 002c 0128     		cmp	r0, #1
 258 002e 01D0     		beq	.L20
  45:Modules/src/i2c1.c **** }
 259              		.loc 1 45 12 view .LVU46
 260 0030 0020     		movs	r0, #0
 261 0032 F5E7     		b	.L18
 262              	.L20:
  42:Modules/src/i2c1.c ****         }
 263              		.loc 1 42 20 view .LVU47
 264 0034 0120     		movs	r0, #1
 265 0036 F3E7     		b	.L18
 266              	.L24:
 267              		.align	2
 268              	.L23:
 269 0038 00000000 		.word	.LANCHOR0
 270 003c 00000000 		.word	hi2c1
 271              		.cfi_endproc
 272              	.LFE140:
 274              		.section	.text.I2C1Write,"ax",%progbits
 275              		.align	1
 276              		.global	I2C1Write
 277              		.syntax unified
 278              		.thumb
 279              		.thumb_func
 280              		.fpu fpv4-sp-d16
 282              	I2C1Write:
 283              	.LVL15:
 284              	.LFB141:
  47:Modules/src/i2c1.c **** 
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 7


  48:Modules/src/i2c1.c **** bool I2C1Write(uint16_t DevAddress, uint8_t *pData, uint16_t Size) {
 285              		.loc 1 48 68 is_stmt 1 view -0
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 0
 288              		@ frame_needed = 0, uses_anonymous_args = 0
 289              		.loc 1 48 68 is_stmt 0 view .LVU49
 290 0000 70B5     		push	{r4, r5, r6, lr}
 291              	.LCFI9:
 292              		.cfi_def_cfa_offset 16
 293              		.cfi_offset 4, -16
 294              		.cfi_offset 5, -12
 295              		.cfi_offset 6, -8
 296              		.cfi_offset 14, -4
 297 0002 0446     		mov	r4, r0
 298 0004 0D46     		mov	r5, r1
 299 0006 1646     		mov	r6, r2
  49:Modules/src/i2c1.c ****     i2c1_notify = xTaskGetCurrentTaskHandle();
 300              		.loc 1 49 5 is_stmt 1 view .LVU50
 301              		.loc 1 49 19 is_stmt 0 view .LVU51
 302 0008 FFF7FEFF 		bl	xTaskGetCurrentTaskHandle
 303              	.LVL16:
 304              		.loc 1 49 17 view .LVU52
 305 000c 0A4B     		ldr	r3, .L31
 306 000e 1860     		str	r0, [r3]
  50:Modules/src/i2c1.c ****     if(HAL_I2C_Master_Transmit_DMA(&hi2c1, DevAddress, pData, Size) == HAL_OK) {
 307              		.loc 1 50 5 is_stmt 1 view .LVU53
 308              		.loc 1 50 8 is_stmt 0 view .LVU54
 309 0010 3346     		mov	r3, r6
 310 0012 2A46     		mov	r2, r5
 311 0014 2146     		mov	r1, r4
 312 0016 0948     		ldr	r0, .L31+4
 313 0018 FFF7FEFF 		bl	HAL_I2C_Master_Transmit_DMA
 314              	.LVL17:
 315              		.loc 1 50 7 view .LVU55
 316 001c 08B1     		cbz	r0, .L30
  51:Modules/src/i2c1.c ****         // printf("ulTaskNotifyTake\r\n");
  52:Modules/src/i2c1.c ****         notify_value = ulTaskNotifyTake(pdTRUE, I2C_MAX_WAIT);
  53:Modules/src/i2c1.c ****         if (notify_value == 1) {
  54:Modules/src/i2c1.c ****             return true;
  55:Modules/src/i2c1.c ****         }
  56:Modules/src/i2c1.c ****     } 
  57:Modules/src/i2c1.c ****     return false;
 317              		.loc 1 57 12 view .LVU56
 318 001e 0020     		movs	r0, #0
 319              	.L26:
  58:Modules/src/i2c1.c **** }
 320              		.loc 1 58 1 view .LVU57
 321 0020 70BD     		pop	{r4, r5, r6, pc}
 322              	.LVL18:
 323              	.L30:
  52:Modules/src/i2c1.c ****         if (notify_value == 1) {
 324              		.loc 1 52 9 is_stmt 1 view .LVU58
  52:Modules/src/i2c1.c ****         if (notify_value == 1) {
 325              		.loc 1 52 24 is_stmt 0 view .LVU59
 326 0022 4FF47A71 		mov	r1, #1000
 327 0026 0120     		movs	r0, #1
 328 0028 FFF7FEFF 		bl	ulTaskNotifyTake
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 8


 329              	.LVL19:
  53:Modules/src/i2c1.c ****             return true;
 330              		.loc 1 53 9 is_stmt 1 view .LVU60
  53:Modules/src/i2c1.c ****             return true;
 331              		.loc 1 53 12 is_stmt 0 view .LVU61
 332 002c 0128     		cmp	r0, #1
 333 002e 01D0     		beq	.L28
  57:Modules/src/i2c1.c **** }
 334              		.loc 1 57 12 view .LVU62
 335 0030 0020     		movs	r0, #0
 336 0032 F5E7     		b	.L26
 337              	.L28:
  54:Modules/src/i2c1.c ****         }
 338              		.loc 1 54 20 view .LVU63
 339 0034 0120     		movs	r0, #1
 340 0036 F3E7     		b	.L26
 341              	.L32:
 342              		.align	2
 343              	.L31:
 344 0038 00000000 		.word	.LANCHOR0
 345 003c 00000000 		.word	hi2c1
 346              		.cfi_endproc
 347              	.LFE141:
 349              		.section	.text.HAL_I2C_MemRxCpltCallback,"ax",%progbits
 350              		.align	1
 351              		.global	HAL_I2C_MemRxCpltCallback
 352              		.syntax unified
 353              		.thumb
 354              		.thumb_func
 355              		.fpu fpv4-sp-d16
 357              	HAL_I2C_MemRxCpltCallback:
 358              	.LVL20:
 359              	.LFB142:
  59:Modules/src/i2c1.c **** 
  60:Modules/src/i2c1.c **** void HAL_I2C_MemRxCpltCallback(I2C_HandleTypeDef *hi2c) {
 360              		.loc 1 60 57 is_stmt 1 view -0
 361              		.cfi_startproc
 362              		@ args = 0, pretend = 0, frame = 8
 363              		@ frame_needed = 0, uses_anonymous_args = 0
 364              		.loc 1 60 57 is_stmt 0 view .LVU65
 365 0000 30B5     		push	{r4, r5, lr}
 366              	.LCFI10:
 367              		.cfi_def_cfa_offset 12
 368              		.cfi_offset 4, -12
 369              		.cfi_offset 5, -8
 370              		.cfi_offset 14, -4
 371 0002 83B0     		sub	sp, sp, #12
 372              	.LCFI11:
 373              		.cfi_def_cfa_offset 24
  61:Modules/src/i2c1.c ****     // printf("MemRxCpltCallback\r\n");
  62:Modules/src/i2c1.c ****     portBASE_TYPE xHigherPriorityTaskWoken = pdFALSE;
 374              		.loc 1 62 5 is_stmt 1 view .LVU66
 375              		.loc 1 62 19 is_stmt 0 view .LVU67
 376 0004 0025     		movs	r5, #0
 377 0006 0195     		str	r5, [sp, #4]
  63:Modules/src/i2c1.c ****     vTaskNotifyGiveFromISR(i2c1_notify, &xHigherPriorityTaskWoken);
 378              		.loc 1 63 5 is_stmt 1 view .LVU68
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 9


 379 0008 0B4C     		ldr	r4, .L37
 380 000a 01A9     		add	r1, sp, #4
 381 000c 2068     		ldr	r0, [r4]
 382              	.LVL21:
 383              		.loc 1 63 5 is_stmt 0 view .LVU69
 384 000e FFF7FEFF 		bl	vTaskNotifyGiveFromISR
 385              	.LVL22:
  64:Modules/src/i2c1.c ****     i2c1_notify = NULL;
 386              		.loc 1 64 5 is_stmt 1 view .LVU70
 387              		.loc 1 64 17 is_stmt 0 view .LVU71
 388 0012 2560     		str	r5, [r4]
  65:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 389              		.loc 1 65 5 is_stmt 1 view .LVU72
 390 0014 019B     		ldr	r3, [sp, #4]
 391 0016 5BB1     		cbz	r3, .L34
 392              		.loc 1 65 5 discriminator 1 view .LVU73
 393 0018 FFF7FEFF 		bl	SEGGER_SYSVIEW_RecordExitISRToScheduler
 394              	.LVL23:
 395              		.loc 1 65 5 discriminator 1 view .LVU74
 396 001c 074B     		ldr	r3, .L37+4
 397 001e 4FF08052 		mov	r2, #268435456
 398 0022 1A60     		str	r2, [r3]
 399              		.loc 1 65 5 discriminator 1 view .LVU75
 400              		.syntax unified
 401              	@ 65 "Modules/src/i2c1.c" 1
 402 0024 BFF34F8F 		dsb
 403              	@ 0 "" 2
 404              		.loc 1 65 5 discriminator 1 view .LVU76
 405              	@ 65 "Modules/src/i2c1.c" 1
 406 0028 BFF36F8F 		isb
 407              	@ 0 "" 2
 408              		.loc 1 65 5 discriminator 1 view .LVU77
 409              		.thumb
 410              		.syntax unified
 411              	.L33:
  66:Modules/src/i2c1.c **** }
 412              		.loc 1 66 1 is_stmt 0 view .LVU78
 413 002c 03B0     		add	sp, sp, #12
 414              	.LCFI12:
 415              		.cfi_remember_state
 416              		.cfi_def_cfa_offset 12
 417              		@ sp needed
 418 002e 30BD     		pop	{r4, r5, pc}
 419              	.L34:
 420              	.LCFI13:
 421              		.cfi_restore_state
  65:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 422              		.loc 1 65 5 is_stmt 1 discriminator 2 view .LVU79
 423 0030 FFF7FEFF 		bl	SEGGER_SYSVIEW_RecordExitISR
 424              	.LVL24:
  65:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 425              		.loc 1 65 49 discriminator 2 view .LVU80
 426              		.loc 1 66 1 is_stmt 0 discriminator 2 view .LVU81
 427 0034 FAE7     		b	.L33
 428              	.L38:
 429 0036 00BF     		.align	2
 430              	.L37:
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 10


 431 0038 00000000 		.word	.LANCHOR0
 432 003c 04ED00E0 		.word	-536810236
 433              		.cfi_endproc
 434              	.LFE142:
 436              		.section	.text.HAL_I2C_MemTxCpltCallback,"ax",%progbits
 437              		.align	1
 438              		.global	HAL_I2C_MemTxCpltCallback
 439              		.syntax unified
 440              		.thumb
 441              		.thumb_func
 442              		.fpu fpv4-sp-d16
 444              	HAL_I2C_MemTxCpltCallback:
 445              	.LVL25:
 446              	.LFB143:
  67:Modules/src/i2c1.c **** 
  68:Modules/src/i2c1.c **** void HAL_I2C_MemTxCpltCallback(I2C_HandleTypeDef *hi2c) {
 447              		.loc 1 68 57 is_stmt 1 view -0
 448              		.cfi_startproc
 449              		@ args = 0, pretend = 0, frame = 8
 450              		@ frame_needed = 0, uses_anonymous_args = 0
 451              		.loc 1 68 57 is_stmt 0 view .LVU83
 452 0000 30B5     		push	{r4, r5, lr}
 453              	.LCFI14:
 454              		.cfi_def_cfa_offset 12
 455              		.cfi_offset 4, -12
 456              		.cfi_offset 5, -8
 457              		.cfi_offset 14, -4
 458 0002 83B0     		sub	sp, sp, #12
 459              	.LCFI15:
 460              		.cfi_def_cfa_offset 24
  69:Modules/src/i2c1.c ****     // printf("MemTxCpltCallback\r\n");
  70:Modules/src/i2c1.c ****     portBASE_TYPE xHigherPriorityTaskWoken = pdFALSE;
 461              		.loc 1 70 5 is_stmt 1 view .LVU84
 462              		.loc 1 70 19 is_stmt 0 view .LVU85
 463 0004 0025     		movs	r5, #0
 464 0006 0195     		str	r5, [sp, #4]
  71:Modules/src/i2c1.c ****     vTaskNotifyGiveFromISR(i2c1_notify, &xHigherPriorityTaskWoken);
 465              		.loc 1 71 5 is_stmt 1 view .LVU86
 466 0008 0B4C     		ldr	r4, .L43
 467 000a 01A9     		add	r1, sp, #4
 468 000c 2068     		ldr	r0, [r4]
 469              	.LVL26:
 470              		.loc 1 71 5 is_stmt 0 view .LVU87
 471 000e FFF7FEFF 		bl	vTaskNotifyGiveFromISR
 472              	.LVL27:
  72:Modules/src/i2c1.c ****     i2c1_notify = NULL;
 473              		.loc 1 72 5 is_stmt 1 view .LVU88
 474              		.loc 1 72 17 is_stmt 0 view .LVU89
 475 0012 2560     		str	r5, [r4]
  73:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 476              		.loc 1 73 5 is_stmt 1 view .LVU90
 477 0014 019B     		ldr	r3, [sp, #4]
 478 0016 5BB1     		cbz	r3, .L40
 479              		.loc 1 73 5 discriminator 1 view .LVU91
 480 0018 FFF7FEFF 		bl	SEGGER_SYSVIEW_RecordExitISRToScheduler
 481              	.LVL28:
 482              		.loc 1 73 5 discriminator 1 view .LVU92
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 11


 483 001c 074B     		ldr	r3, .L43+4
 484 001e 4FF08052 		mov	r2, #268435456
 485 0022 1A60     		str	r2, [r3]
 486              		.loc 1 73 5 discriminator 1 view .LVU93
 487              		.syntax unified
 488              	@ 73 "Modules/src/i2c1.c" 1
 489 0024 BFF34F8F 		dsb
 490              	@ 0 "" 2
 491              		.loc 1 73 5 discriminator 1 view .LVU94
 492              	@ 73 "Modules/src/i2c1.c" 1
 493 0028 BFF36F8F 		isb
 494              	@ 0 "" 2
 495              		.loc 1 73 5 discriminator 1 view .LVU95
 496              		.thumb
 497              		.syntax unified
 498              	.L39:
  74:Modules/src/i2c1.c **** }
 499              		.loc 1 74 1 is_stmt 0 view .LVU96
 500 002c 03B0     		add	sp, sp, #12
 501              	.LCFI16:
 502              		.cfi_remember_state
 503              		.cfi_def_cfa_offset 12
 504              		@ sp needed
 505 002e 30BD     		pop	{r4, r5, pc}
 506              	.L40:
 507              	.LCFI17:
 508              		.cfi_restore_state
  73:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 509              		.loc 1 73 5 is_stmt 1 discriminator 2 view .LVU97
 510 0030 FFF7FEFF 		bl	SEGGER_SYSVIEW_RecordExitISR
 511              	.LVL29:
  73:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 512              		.loc 1 73 49 discriminator 2 view .LVU98
 513              		.loc 1 74 1 is_stmt 0 discriminator 2 view .LVU99
 514 0034 FAE7     		b	.L39
 515              	.L44:
 516 0036 00BF     		.align	2
 517              	.L43:
 518 0038 00000000 		.word	.LANCHOR0
 519 003c 04ED00E0 		.word	-536810236
 520              		.cfi_endproc
 521              	.LFE143:
 523              		.section	.text.HAL_I2C_MasterTxCpltCallback,"ax",%progbits
 524              		.align	1
 525              		.global	HAL_I2C_MasterTxCpltCallback
 526              		.syntax unified
 527              		.thumb
 528              		.thumb_func
 529              		.fpu fpv4-sp-d16
 531              	HAL_I2C_MasterTxCpltCallback:
 532              	.LVL30:
 533              	.LFB144:
  75:Modules/src/i2c1.c **** 
  76:Modules/src/i2c1.c **** void HAL_I2C_MasterTxCpltCallback(I2C_HandleTypeDef *hi2c) {
 534              		.loc 1 76 60 is_stmt 1 view -0
 535              		.cfi_startproc
 536              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 12


 537              		@ frame_needed = 0, uses_anonymous_args = 0
 538              		.loc 1 76 60 is_stmt 0 view .LVU101
 539 0000 30B5     		push	{r4, r5, lr}
 540              	.LCFI18:
 541              		.cfi_def_cfa_offset 12
 542              		.cfi_offset 4, -12
 543              		.cfi_offset 5, -8
 544              		.cfi_offset 14, -4
 545 0002 83B0     		sub	sp, sp, #12
 546              	.LCFI19:
 547              		.cfi_def_cfa_offset 24
  77:Modules/src/i2c1.c ****     // printf("HAL_I2C_MasterTxCpltCallback\r\n");
  78:Modules/src/i2c1.c ****     portBASE_TYPE xHigherPriorityTaskWoken = pdFALSE;
 548              		.loc 1 78 5 is_stmt 1 view .LVU102
 549              		.loc 1 78 19 is_stmt 0 view .LVU103
 550 0004 0025     		movs	r5, #0
 551 0006 0195     		str	r5, [sp, #4]
  79:Modules/src/i2c1.c ****     vTaskNotifyGiveFromISR(i2c1_notify, &xHigherPriorityTaskWoken);
 552              		.loc 1 79 5 is_stmt 1 view .LVU104
 553 0008 0B4C     		ldr	r4, .L49
 554 000a 01A9     		add	r1, sp, #4
 555 000c 2068     		ldr	r0, [r4]
 556              	.LVL31:
 557              		.loc 1 79 5 is_stmt 0 view .LVU105
 558 000e FFF7FEFF 		bl	vTaskNotifyGiveFromISR
 559              	.LVL32:
  80:Modules/src/i2c1.c ****     i2c1_notify = NULL;
 560              		.loc 1 80 5 is_stmt 1 view .LVU106
 561              		.loc 1 80 17 is_stmt 0 view .LVU107
 562 0012 2560     		str	r5, [r4]
  81:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 563              		.loc 1 81 5 is_stmt 1 view .LVU108
 564 0014 019B     		ldr	r3, [sp, #4]
 565 0016 5BB1     		cbz	r3, .L46
 566              		.loc 1 81 5 discriminator 1 view .LVU109
 567 0018 FFF7FEFF 		bl	SEGGER_SYSVIEW_RecordExitISRToScheduler
 568              	.LVL33:
 569              		.loc 1 81 5 discriminator 1 view .LVU110
 570 001c 074B     		ldr	r3, .L49+4
 571 001e 4FF08052 		mov	r2, #268435456
 572 0022 1A60     		str	r2, [r3]
 573              		.loc 1 81 5 discriminator 1 view .LVU111
 574              		.syntax unified
 575              	@ 81 "Modules/src/i2c1.c" 1
 576 0024 BFF34F8F 		dsb
 577              	@ 0 "" 2
 578              		.loc 1 81 5 discriminator 1 view .LVU112
 579              	@ 81 "Modules/src/i2c1.c" 1
 580 0028 BFF36F8F 		isb
 581              	@ 0 "" 2
 582              		.loc 1 81 5 discriminator 1 view .LVU113
 583              		.thumb
 584              		.syntax unified
 585              	.L45:
  82:Modules/src/i2c1.c **** }
 586              		.loc 1 82 1 is_stmt 0 view .LVU114
 587 002c 03B0     		add	sp, sp, #12
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 13


 588              	.LCFI20:
 589              		.cfi_remember_state
 590              		.cfi_def_cfa_offset 12
 591              		@ sp needed
 592 002e 30BD     		pop	{r4, r5, pc}
 593              	.L46:
 594              	.LCFI21:
 595              		.cfi_restore_state
  81:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 596              		.loc 1 81 5 is_stmt 1 discriminator 2 view .LVU115
 597 0030 FFF7FEFF 		bl	SEGGER_SYSVIEW_RecordExitISR
 598              	.LVL34:
  81:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 599              		.loc 1 81 49 discriminator 2 view .LVU116
 600              		.loc 1 82 1 is_stmt 0 discriminator 2 view .LVU117
 601 0034 FAE7     		b	.L45
 602              	.L50:
 603 0036 00BF     		.align	2
 604              	.L49:
 605 0038 00000000 		.word	.LANCHOR0
 606 003c 04ED00E0 		.word	-536810236
 607              		.cfi_endproc
 608              	.LFE144:
 610              		.section	.text.HAL_I2C_MasterRxCpltCallback,"ax",%progbits
 611              		.align	1
 612              		.global	HAL_I2C_MasterRxCpltCallback
 613              		.syntax unified
 614              		.thumb
 615              		.thumb_func
 616              		.fpu fpv4-sp-d16
 618              	HAL_I2C_MasterRxCpltCallback:
 619              	.LVL35:
 620              	.LFB145:
  83:Modules/src/i2c1.c **** 
  84:Modules/src/i2c1.c **** void HAL_I2C_MasterRxCpltCallback(I2C_HandleTypeDef *hi2c) {
 621              		.loc 1 84 60 is_stmt 1 view -0
 622              		.cfi_startproc
 623              		@ args = 0, pretend = 0, frame = 8
 624              		@ frame_needed = 0, uses_anonymous_args = 0
 625              		.loc 1 84 60 is_stmt 0 view .LVU119
 626 0000 30B5     		push	{r4, r5, lr}
 627              	.LCFI22:
 628              		.cfi_def_cfa_offset 12
 629              		.cfi_offset 4, -12
 630              		.cfi_offset 5, -8
 631              		.cfi_offset 14, -4
 632 0002 83B0     		sub	sp, sp, #12
 633              	.LCFI23:
 634              		.cfi_def_cfa_offset 24
  85:Modules/src/i2c1.c ****     // printf("HAL_I2C_MasterRxCpltCallback\r\n");
  86:Modules/src/i2c1.c ****     portBASE_TYPE xHigherPriorityTaskWoken = pdFALSE;
 635              		.loc 1 86 5 is_stmt 1 view .LVU120
 636              		.loc 1 86 19 is_stmt 0 view .LVU121
 637 0004 0025     		movs	r5, #0
 638 0006 0195     		str	r5, [sp, #4]
  87:Modules/src/i2c1.c ****     vTaskNotifyGiveFromISR(i2c1_notify, &xHigherPriorityTaskWoken);
 639              		.loc 1 87 5 is_stmt 1 view .LVU122
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 14


 640 0008 0B4C     		ldr	r4, .L55
 641 000a 01A9     		add	r1, sp, #4
 642 000c 2068     		ldr	r0, [r4]
 643              	.LVL36:
 644              		.loc 1 87 5 is_stmt 0 view .LVU123
 645 000e FFF7FEFF 		bl	vTaskNotifyGiveFromISR
 646              	.LVL37:
  88:Modules/src/i2c1.c ****     i2c1_notify = NULL;
 647              		.loc 1 88 5 is_stmt 1 view .LVU124
 648              		.loc 1 88 17 is_stmt 0 view .LVU125
 649 0012 2560     		str	r5, [r4]
  89:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 650              		.loc 1 89 5 is_stmt 1 view .LVU126
 651 0014 019B     		ldr	r3, [sp, #4]
 652 0016 5BB1     		cbz	r3, .L52
 653              		.loc 1 89 5 discriminator 1 view .LVU127
 654 0018 FFF7FEFF 		bl	SEGGER_SYSVIEW_RecordExitISRToScheduler
 655              	.LVL38:
 656              		.loc 1 89 5 discriminator 1 view .LVU128
 657 001c 074B     		ldr	r3, .L55+4
 658 001e 4FF08052 		mov	r2, #268435456
 659 0022 1A60     		str	r2, [r3]
 660              		.loc 1 89 5 discriminator 1 view .LVU129
 661              		.syntax unified
 662              	@ 89 "Modules/src/i2c1.c" 1
 663 0024 BFF34F8F 		dsb
 664              	@ 0 "" 2
 665              		.loc 1 89 5 discriminator 1 view .LVU130
 666              	@ 89 "Modules/src/i2c1.c" 1
 667 0028 BFF36F8F 		isb
 668              	@ 0 "" 2
 669              		.loc 1 89 5 discriminator 1 view .LVU131
 670              		.thumb
 671              		.syntax unified
 672              	.L51:
  90:Modules/src/i2c1.c **** }
 673              		.loc 1 90 1 is_stmt 0 view .LVU132
 674 002c 03B0     		add	sp, sp, #12
 675              	.LCFI24:
 676              		.cfi_remember_state
 677              		.cfi_def_cfa_offset 12
 678              		@ sp needed
 679 002e 30BD     		pop	{r4, r5, pc}
 680              	.L52:
 681              	.LCFI25:
 682              		.cfi_restore_state
  89:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 683              		.loc 1 89 5 is_stmt 1 discriminator 2 view .LVU133
 684 0030 FFF7FEFF 		bl	SEGGER_SYSVIEW_RecordExitISR
 685              	.LVL39:
  89:Modules/src/i2c1.c ****     portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 686              		.loc 1 89 49 discriminator 2 view .LVU134
 687              		.loc 1 90 1 is_stmt 0 discriminator 2 view .LVU135
 688 0034 FAE7     		b	.L51
 689              	.L56:
 690 0036 00BF     		.align	2
 691              	.L55:
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 15


 692 0038 00000000 		.word	.LANCHOR0
 693 003c 04ED00E0 		.word	-536810236
 694              		.cfi_endproc
 695              	.LFE145:
 697              		.section	.rodata.TestI2C1MenRead.str1.4,"aMS",%progbits,1
 698              		.align	2
 699              	.LC0:
 700 0000 3D3D3D3D 		.ascii	"===========TestI2C1MenRead===========\015\000"
 700      3D3D3D3D 
 700      3D3D3D54 
 700      65737449 
 700      3243314D 
 701 0027 00       		.align	2
 702              	.LC1:
 703 0028 47657420 		.ascii	"Get data: %x\015\012\000"
 703      64617461 
 703      3A202578 
 703      0D0A00
 704 0037 00       		.align	2
 705              	.LC2:
 706 0038 47657420 		.ascii	"Get not get data!\015\000"
 706      6E6F7420 
 706      67657420 
 706      64617461 
 706      210D00
 707 004b 00       		.align	2
 708              	.LC3:
 709 004c 0D0A5465 		.ascii	"\015\012Test HAL_I2C_Mem_Write_DMA\015\000"
 709      73742048 
 709      414C5F49 
 709      32435F4D 
 709      656D5F57 
 710 006a 0000     		.align	2
 711              	.LC4:
 712 006c 47657420 		.ascii	"Get data!\015\000"
 712      64617461 
 712      210D00
 713 0077 00       		.align	2
 714              	.LC5:
 715 0078 3D3D3D3D 		.ascii	"=====================================\015\012\015\000"
 715      3D3D3D3D 
 715      3D3D3D3D 
 715      3D3D3D3D 
 715      3D3D3D3D 
 716              		.section	.text.TestI2C1MenRead,"ax",%progbits
 717              		.align	1
 718              		.global	TestI2C1MenRead
 719              		.syntax unified
 720              		.thumb
 721              		.thumb_func
 722              		.fpu fpv4-sp-d16
 724              	TestI2C1MenRead:
 725              	.LFB146:
  91:Modules/src/i2c1.c **** 
  92:Modules/src/i2c1.c **** // ============================== Test =================================
  93:Modules/src/i2c1.c **** void TestI2C1MenRead() {
 726              		.loc 1 93 24 is_stmt 1 view -0
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 16


 727              		.cfi_startproc
 728              		@ args = 0, pretend = 0, frame = 8
 729              		@ frame_needed = 0, uses_anonymous_args = 0
 730 0000 00B5     		push	{lr}
 731              	.LCFI26:
 732              		.cfi_def_cfa_offset 4
 733              		.cfi_offset 14, -4
 734 0002 85B0     		sub	sp, sp, #20
 735              	.LCFI27:
 736              		.cfi_def_cfa_offset 24
  94:Modules/src/i2c1.c ****     vTaskDelay(pdMS_TO_TICKS(1000));
 737              		.loc 1 94 5 view .LVU137
 738 0004 4FF47A70 		mov	r0, #1000
 739 0008 FFF7FEFF 		bl	vTaskDelay
 740              	.LVL40:
  95:Modules/src/i2c1.c **** 
  96:Modules/src/i2c1.c ****     printf("===========TestI2C1MenRead===========\r\n");
 741              		.loc 1 96 5 view .LVU138
 742 000c 2148     		ldr	r0, .L66
 743 000e FFF7FEFF 		bl	puts
 744              	.LVL41:
  97:Modules/src/i2c1.c ****     uint8_t i2c_data = 0;
 745              		.loc 1 97 5 view .LVU139
 746              		.loc 1 97 13 is_stmt 0 view .LVU140
 747 0012 0023     		movs	r3, #0
 748 0014 8DF80F30 		strb	r3, [sp, #15]
  98:Modules/src/i2c1.c **** 
  99:Modules/src/i2c1.c ****     // printf("Test HAL_I2C_Mem_Read for MPU6050\r\n");
 100:Modules/src/i2c1.c ****     // if(HAL_I2C_Mem_Read(&hi2c1, 0xD0, 0x75, 1, &i2c_data, 1, 1000) == HAL_OK) {
 101:Modules/src/i2c1.c ****     //     printf("Get data: %x\r\n", i2c_data);
 102:Modules/src/i2c1.c ****     // } else {
 103:Modules/src/i2c1.c ****     //     printf("Get not get data!\r\n");
 104:Modules/src/i2c1.c ****     // }
 105:Modules/src/i2c1.c **** 
 106:Modules/src/i2c1.c ****     // vTaskDelay(pdMS_TO_TICKS(100));
 107:Modules/src/i2c1.c **** 
 108:Modules/src/i2c1.c ****     // i2c_data = 0;
 109:Modules/src/i2c1.c ****     // printf("\r\nTest I2C1MenRead for MPU6050\r\n");
 110:Modules/src/i2c1.c ****     // if(I2C1MenRead(0xD0, 0x75, 1, &i2c_data, 1)) {
 111:Modules/src/i2c1.c ****     //     printf("Get data: %x\r\n", i2c_data);
 112:Modules/src/i2c1.c ****     // } else {
 113:Modules/src/i2c1.c ****     //     printf("Get not get data!\r\n");
 114:Modules/src/i2c1.c ****     // }
 115:Modules/src/i2c1.c **** 
 116:Modules/src/i2c1.c ****     if(HAL_I2C_Mem_Read_DMA(&hi2c1, 0xD0, 0x75, 1, &i2c_data, 1) == HAL_OK) {
 749              		.loc 1 116 5 is_stmt 1 view .LVU141
 750              		.loc 1 116 8 is_stmt 0 view .LVU142
 751 0018 0123     		movs	r3, #1
 752 001a 0193     		str	r3, [sp, #4]
 753 001c 0DF10F02 		add	r2, sp, #15
 754 0020 0092     		str	r2, [sp]
 755 0022 7522     		movs	r2, #117
 756 0024 D021     		movs	r1, #208
 757 0026 1C48     		ldr	r0, .L66+4
 758 0028 FFF7FEFF 		bl	HAL_I2C_Mem_Read_DMA
 759              	.LVL42:
 760              		.loc 1 116 7 view .LVU143
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 17


 761 002c 30B1     		cbz	r0, .L58
 117:Modules/src/i2c1.c ****         while (HAL_I2C_GetState(&hi2c1) != HAL_I2C_STATE_READY) {
 118:Modules/src/i2c1.c ****             vTaskDelay(pdMS_TO_TICKS(1));
 119:Modules/src/i2c1.c ****         }
 120:Modules/src/i2c1.c ****         printf("Get data: %x\r\n", i2c_data);
 121:Modules/src/i2c1.c ****     } else {
 122:Modules/src/i2c1.c ****         printf("Get not get data!\r\n");
 762              		.loc 1 122 9 is_stmt 1 view .LVU144
 763 002e 1B48     		ldr	r0, .L66+8
 764 0030 FFF7FEFF 		bl	puts
 765              	.LVL43:
 766 0034 0CE0     		b	.L61
 767              	.L60:
 118:Modules/src/i2c1.c ****         }
 768              		.loc 1 118 13 view .LVU145
 769 0036 0120     		movs	r0, #1
 770 0038 FFF7FEFF 		bl	vTaskDelay
 771              	.LVL44:
 772              	.L58:
 117:Modules/src/i2c1.c ****         while (HAL_I2C_GetState(&hi2c1) != HAL_I2C_STATE_READY) {
 773              		.loc 1 117 15 view .LVU146
 117:Modules/src/i2c1.c ****         while (HAL_I2C_GetState(&hi2c1) != HAL_I2C_STATE_READY) {
 774              		.loc 1 117 16 is_stmt 0 view .LVU147
 775 003c 1648     		ldr	r0, .L66+4
 776 003e FFF7FEFF 		bl	HAL_I2C_GetState
 777              	.LVL45:
 117:Modules/src/i2c1.c ****         while (HAL_I2C_GetState(&hi2c1) != HAL_I2C_STATE_READY) {
 778              		.loc 1 117 15 view .LVU148
 779 0042 2028     		cmp	r0, #32
 780 0044 F7D1     		bne	.L60
 120:Modules/src/i2c1.c ****     } else {
 781              		.loc 1 120 9 is_stmt 1 view .LVU149
 782 0046 9DF80F10 		ldrb	r1, [sp, #15]	@ zero_extendqisi2
 783 004a 1548     		ldr	r0, .L66+12
 784 004c FFF7FEFF 		bl	printf
 785              	.LVL46:
 786              	.L61:
 123:Modules/src/i2c1.c ****     }
 124:Modules/src/i2c1.c ****     
 125:Modules/src/i2c1.c ****     vTaskDelay(pdMS_TO_TICKS(100));
 787              		.loc 1 125 5 view .LVU150
 788 0050 6420     		movs	r0, #100
 789 0052 FFF7FEFF 		bl	vTaskDelay
 790              	.LVL47:
 126:Modules/src/i2c1.c ****     i2c_data = 0X80;
 791              		.loc 1 126 5 view .LVU151
 792              		.loc 1 126 14 is_stmt 0 view .LVU152
 793 0056 8023     		movs	r3, #128
 794 0058 8DF80F30 		strb	r3, [sp, #15]
 127:Modules/src/i2c1.c ****     printf("\r\nTest HAL_I2C_Mem_Write_DMA\r\n");
 795              		.loc 1 127 5 is_stmt 1 view .LVU153
 796 005c 1148     		ldr	r0, .L66+16
 797 005e FFF7FEFF 		bl	puts
 798              	.LVL48:
 128:Modules/src/i2c1.c ****     if(HAL_I2C_Mem_Write_DMA(&hi2c1, 0xD0, 0x6B, 1, &i2c_data, 1) == HAL_OK) {
 799              		.loc 1 128 5 view .LVU154
 800              		.loc 1 128 8 is_stmt 0 view .LVU155
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 18


 801 0062 0123     		movs	r3, #1
 802 0064 0193     		str	r3, [sp, #4]
 803 0066 0DF10F02 		add	r2, sp, #15
 804 006a 0092     		str	r2, [sp]
 805 006c 6B22     		movs	r2, #107
 806 006e D021     		movs	r1, #208
 807 0070 0948     		ldr	r0, .L66+4
 808 0072 FFF7FEFF 		bl	HAL_I2C_Mem_Write_DMA
 809              	.LVL49:
 810              		.loc 1 128 7 view .LVU156
 811 0076 40B9     		cbnz	r0, .L62
 129:Modules/src/i2c1.c ****         printf("Get data!\r\n");
 812              		.loc 1 129 9 is_stmt 1 view .LVU157
 813 0078 0B48     		ldr	r0, .L66+20
 814 007a FFF7FEFF 		bl	puts
 815              	.LVL50:
 816              	.L63:
 130:Modules/src/i2c1.c ****     } else {
 131:Modules/src/i2c1.c ****         printf("Get not get data!\r\n");
 132:Modules/src/i2c1.c ****     }
 133:Modules/src/i2c1.c **** 
 134:Modules/src/i2c1.c ****     printf("=====================================\r\n\r\n");
 817              		.loc 1 134 5 view .LVU158
 818 007e 0B48     		ldr	r0, .L66+24
 819 0080 FFF7FEFF 		bl	puts
 820              	.LVL51:
 135:Modules/src/i2c1.c **** 
 136:Modules/src/i2c1.c **** 
 137:Modules/src/i2c1.c **** 
 138:Modules/src/i2c1.c **** }...
 821              		.loc 1 138 1 is_stmt 0 view .LVU159
 822 0084 05B0     		add	sp, sp, #20
 823              	.LCFI28:
 824              		.cfi_remember_state
 825              		.cfi_def_cfa_offset 4
 826              		@ sp needed
 827 0086 5DF804FB 		ldr	pc, [sp], #4
 828              	.L62:
 829              	.LCFI29:
 830              		.cfi_restore_state
 131:Modules/src/i2c1.c ****         printf("Get not get data!\r\n");
 831              		.loc 1 131 9 is_stmt 1 view .LVU160
 832 008a 0448     		ldr	r0, .L66+8
 833 008c FFF7FEFF 		bl	puts
 834              	.LVL52:
 835 0090 F5E7     		b	.L63
 836              	.L67:
 837 0092 00BF     		.align	2
 838              	.L66:
 839 0094 00000000 		.word	.LC0
 840 0098 00000000 		.word	hi2c1
 841 009c 38000000 		.word	.LC2
 842 00a0 28000000 		.word	.LC1
 843 00a4 4C000000 		.word	.LC3
 844 00a8 6C000000 		.word	.LC4
 845 00ac 78000000 		.word	.LC5
 846              		.cfi_endproc
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 19


 847              	.LFE146:
 849              		.section	.bss.i2c1_notify,"aw",%nobits
 850              		.align	2
 851              		.set	.LANCHOR0,. + 0
 854              	i2c1_notify:
 855 0000 00000000 		.space	4
 856              		.text
 857              	.Letext0:
 858              		.file 2 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\machine\\_default_ty
 859              		.file 3 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 860              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 861              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 862              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 863              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 864              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 865              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 866              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 867              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 868              		.file 12 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 869              		.file 13 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 870              		.file 14 "e:\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 871              		.file 15 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 872              		.file 16 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\types.h"
 873              		.file 17 "Modules/include/utils.h"
 874              		.file 18 "Inc/i2c.h"
 875              		.file 19 "Middlewares/Third_Party/SystemView/SEGGER/SEGGER_SYSVIEW.h"
 876              		.file 20 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
 877              		.file 21 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 878              		.file 22 "e:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\stdio.h"
 879              		.file 23 "<built-in>"
ARM GAS  C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 i2c1.c
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:18     .text.I2C1MenRead:00000000 $t
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:26     .text.I2C1MenRead:00000000 I2C1MenRead
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:104    .text.I2C1MenRead:00000048 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:110    .text.I2C1MenWrite:00000000 $t
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:117    .text.I2C1MenWrite:00000000 I2C1MenWrite
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:194    .text.I2C1MenWrite:00000048 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:200    .text.I2C1Read:00000000 $t
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:207    .text.I2C1Read:00000000 I2C1Read
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:269    .text.I2C1Read:00000038 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:275    .text.I2C1Write:00000000 $t
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:282    .text.I2C1Write:00000000 I2C1Write
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:344    .text.I2C1Write:00000038 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:350    .text.HAL_I2C_MemRxCpltCallback:00000000 $t
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:357    .text.HAL_I2C_MemRxCpltCallback:00000000 HAL_I2C_MemRxCpltCallback
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:431    .text.HAL_I2C_MemRxCpltCallback:00000038 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:437    .text.HAL_I2C_MemTxCpltCallback:00000000 $t
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:444    .text.HAL_I2C_MemTxCpltCallback:00000000 HAL_I2C_MemTxCpltCallback
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:518    .text.HAL_I2C_MemTxCpltCallback:00000038 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:524    .text.HAL_I2C_MasterTxCpltCallback:00000000 $t
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:531    .text.HAL_I2C_MasterTxCpltCallback:00000000 HAL_I2C_MasterTxCpltCallback
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:605    .text.HAL_I2C_MasterTxCpltCallback:00000038 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:611    .text.HAL_I2C_MasterRxCpltCallback:00000000 $t
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:618    .text.HAL_I2C_MasterRxCpltCallback:00000000 HAL_I2C_MasterRxCpltCallback
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:692    .text.HAL_I2C_MasterRxCpltCallback:00000038 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:698    .rodata.TestI2C1MenRead.str1.4:00000000 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:717    .text.TestI2C1MenRead:00000000 $t
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:724    .text.TestI2C1MenRead:00000000 TestI2C1MenRead
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:839    .text.TestI2C1MenRead:00000094 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:850    .bss.i2c1_notify:00000000 $d
C:\Users\luoha\AppData\Local\Temp\cckEwO1w.s:854    .bss.i2c1_notify:00000000 i2c1_notify

UNDEFINED SYMBOLS
xTaskGetCurrentTaskHandle
HAL_I2C_Mem_Read_DMA
ulTaskNotifyTake
hi2c1
HAL_I2C_Mem_Write_DMA
HAL_I2C_Master_Receive_DMA
HAL_I2C_Master_Transmit_DMA
vTaskNotifyGiveFromISR
SEGGER_SYSVIEW_RecordExitISRToScheduler
SEGGER_SYSVIEW_RecordExitISR
vTaskDelay
puts
HAL_I2C_GetState
printf

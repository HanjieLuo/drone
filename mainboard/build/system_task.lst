ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"system_task.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.SystemLaunch.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 53797374 		.ascii	"SystemTask\000"
  20      656D5461 
  20      736B00
  21              		.section	.text.SystemLaunch,"ax",%progbits
  22              		.align	1
  23              		.global	SystemLaunch
  24              		.arch armv7e-m
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  28              		.fpu fpv4-sp-d16
  30              	SystemLaunch:
  31              	.LFB172:
  32              		.file 1 "Modules/src/system_task.c"
   1:Modules/src/system_task.c **** #include "system_task.h"
   2:Modules/src/system_task.c **** 
   3:Modules/src/system_task.c **** static bool is_init = false;
   4:Modules/src/system_task.c **** 
   5:Modules/src/system_task.c **** STATIC_MEM_TASK_ALLOC(system_task, SYSTEM_TASK_STACKSIZE);
   6:Modules/src/system_task.c **** static void SystemTask(void *param);
   7:Modules/src/system_task.c **** 
   8:Modules/src/system_task.c **** 
   9:Modules/src/system_task.c **** void SystemLaunch(void) {
  33              		.loc 1 9 25 view -0
  34              		.cfi_startproc
  35              		@ args = 0, pretend = 0, frame = 0
  36              		@ frame_needed = 0, uses_anonymous_args = 0
  37 0000 00B5     		push	{lr}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 4
  40              		.cfi_offset 14, -4
  41 0002 85B0     		sub	sp, sp, #20
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 24
  10:Modules/src/system_task.c ****     STATIC_MEM_TASK_CREATE(system_task, SystemTask, "SystemTask", NULL, SYSTEM_TASK_PRI);
  44              		.loc 1 10 5 view .LVU1
  45 0004 074B     		ldr	r3, .L3
  46 0006 0293     		str	r3, [sp, #8]
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s 			page 2


  47 0008 074B     		ldr	r3, .L3+4
  48 000a 0193     		str	r3, [sp, #4]
  49 000c 0223     		movs	r3, #2
  50 000e 0093     		str	r3, [sp]
  51 0010 0023     		movs	r3, #0
  52 0012 4FF48072 		mov	r2, #256
  53 0016 0549     		ldr	r1, .L3+8
  54 0018 0548     		ldr	r0, .L3+12
  55 001a FFF7FEFF 		bl	xTaskCreateStatic
  56              	.LVL0:
  11:Modules/src/system_task.c **** }
  57              		.loc 1 11 1 is_stmt 0 view .LVU2
  58 001e 05B0     		add	sp, sp, #20
  59              	.LCFI2:
  60              		.cfi_def_cfa_offset 4
  61              		@ sp needed
  62 0020 5DF804FB 		ldr	pc, [sp], #4
  63              	.L4:
  64              		.align	2
  65              	.L3:
  66 0024 00000000 		.word	.LANCHOR0
  67 0028 00000000 		.word	.LANCHOR1
  68 002c 00000000 		.word	.LC0
  69 0030 00000000 		.word	SystemTask
  70              		.cfi_endproc
  71              	.LFE172:
  73              		.section	.rodata.SystemInitiate.str1.4,"aMS",%progbits,1
  74              		.align	2
  75              	.LC1:
  76 0000 53797374 		.ascii	"SystemInitiate: %u\015\012\015\012\000"
  76      656D496E 
  76      69746961 
  76      74653A20 
  76      25750D0A 
  77              		.section	.text.SystemInitiate,"ax",%progbits
  78              		.align	1
  79              		.global	SystemInitiate
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  83              		.fpu fpv4-sp-d16
  85              	SystemInitiate:
  86              	.LFB174:
  12:Modules/src/system_task.c **** 
  13:Modules/src/system_task.c **** void SystemTask(void *param) {
  14:Modules/src/system_task.c ****     SystemInitiate();
  15:Modules/src/system_task.c **** 
  16:Modules/src/system_task.c ****     SensorsLaunch();
  17:Modules/src/system_task.c ****     StateEstimatorLaunch();
  18:Modules/src/system_task.c **** 
  19:Modules/src/system_task.c ****     while(1) {
  20:Modules/src/system_task.c ****         vTaskDelay(portMAX_DELAY);
  21:Modules/src/system_task.c ****     }
  22:Modules/src/system_task.c **** 
  23:Modules/src/system_task.c **** 
  24:Modules/src/system_task.c ****     // uint8_t buffer[] = "Hello world\r\n";
  25:Modules/src/system_task.c ****     // while(1) {
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s 			page 3


  26:Modules/src/system_task.c ****     //     HAL_UART_Transmit_DMA(&huart1, buffer, sizeof(buffer));
  27:Modules/src/system_task.c ****     //     vTaskDelay(pdMS_TO_TICKS(1000));
  28:Modules/src/system_task.c ****     // }
  29:Modules/src/system_task.c **** }
  30:Modules/src/system_task.c **** 
  31:Modules/src/system_task.c **** void SystemInitiate(void) {
  87              		.loc 1 31 27 is_stmt 1 view -0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  32:Modules/src/system_task.c ****     if(is_init) return;
  91              		.loc 1 32 5 view .LVU4
  92              		.loc 1 32 8 is_stmt 0 view .LVU5
  93 0000 0E4B     		ldr	r3, .L12
  94 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  95              		.loc 1 32 7 view .LVU6
  96 0004 03B1     		cbz	r3, .L11
  97 0006 7047     		bx	lr
  98              	.L11:
  31:Modules/src/system_task.c ****     if(is_init) return;
  99              		.loc 1 31 27 view .LVU7
 100 0008 10B5     		push	{r4, lr}
 101              	.LCFI3:
 102              		.cfi_def_cfa_offset 8
 103              		.cfi_offset 4, -8
 104              		.cfi_offset 14, -4
  33:Modules/src/system_task.c ****     
  34:Modules/src/system_task.c ****     bool is_ok = SensorsInit();
 105              		.loc 1 34 5 is_stmt 1 view .LVU8
 106              		.loc 1 34 18 is_stmt 0 view .LVU9
 107 000a FFF7FEFF 		bl	SensorsInit
 108              	.LVL1:
 109 000e 0446     		mov	r4, r0
 110              	.LVL2:
  35:Modules/src/system_task.c ****     
  36:Modules/src/system_task.c ****     is_ok &= StateEstimatorInit(9.803, 1e-3, 1e-5, 1e-4, 1e-5);
 111              		.loc 1 36 5 is_stmt 1 view .LVU10
 112              		.loc 1 36 14 is_stmt 0 view .LVU11
 113 0010 9FED0B1A 		vldr.32	s2, .L12+4
 114 0014 B0EE412A 		vmov.f32	s4, s2
 115 0018 DFED0A1A 		vldr.32	s3, .L12+8
 116 001c DFED0A0A 		vldr.32	s1, .L12+12
 117 0020 9FED0A0A 		vldr.32	s0, .L12+16
 118 0024 FFF7FEFF 		bl	EskfInit
 119              	.LVL3:
 120 0028 04EA0001 		and	r1, r4, r0
 121 002c C9B2     		uxtb	r1, r1
 122              	.LVL4:
  37:Modules/src/system_task.c **** 
  38:Modules/src/system_task.c ****     is_init = is_ok;
 123              		.loc 1 38 5 is_stmt 1 view .LVU12
 124              		.loc 1 38 13 is_stmt 0 view .LVU13
 125 002e 034B     		ldr	r3, .L12
 126 0030 1970     		strb	r1, [r3]
  39:Modules/src/system_task.c ****     printf("SystemInitiate: %u\r\n\r\n", is_init);
 127              		.loc 1 39 5 is_stmt 1 view .LVU14
 128 0032 0748     		ldr	r0, .L12+20
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s 			page 4


 129 0034 FFF7FEFF 		bl	printf
 130              	.LVL5:
  40:Modules/src/system_task.c **** }
 131              		.loc 1 40 1 is_stmt 0 view .LVU15
 132 0038 10BD     		pop	{r4, pc}
 133              	.L13:
 134              		.loc 1 40 1 view .LVU16
 135 003a 00BF     		.align	2
 136              	.L12:
 137 003c 00000000 		.word	.LANCHOR2
 138 0040 ACC52737 		.word	925353388
 139 0044 17B7D138 		.word	953267991
 140 0048 6F12833A 		.word	981668463
 141 004c 17D91C41 		.word	1092409623
 142 0050 00000000 		.word	.LC1
 143              		.cfi_endproc
 144              	.LFE174:
 146              		.section	.text.SystemTask,"ax",%progbits
 147              		.align	1
 148              		.syntax unified
 149              		.thumb
 150              		.thumb_func
 151              		.fpu fpv4-sp-d16
 153              	SystemTask:
 154              	.LVL6:
 155              	.LFB173:
  13:Modules/src/system_task.c ****     SystemInitiate();
 156              		.loc 1 13 30 is_stmt 1 view -0
 157              		.cfi_startproc
 158              		@ Volatile: function does not return.
 159              		@ args = 0, pretend = 0, frame = 0
 160              		@ frame_needed = 0, uses_anonymous_args = 0
  13:Modules/src/system_task.c ****     SystemInitiate();
 161              		.loc 1 13 30 is_stmt 0 view .LVU18
 162 0000 08B5     		push	{r3, lr}
 163              	.LCFI4:
 164              		.cfi_def_cfa_offset 8
 165              		.cfi_offset 3, -8
 166              		.cfi_offset 14, -4
  14:Modules/src/system_task.c **** 
 167              		.loc 1 14 5 is_stmt 1 view .LVU19
 168 0002 FFF7FEFF 		bl	SystemInitiate
 169              	.LVL7:
  16:Modules/src/system_task.c ****     StateEstimatorLaunch();
 170              		.loc 1 16 5 view .LVU20
 171 0006 FFF7FEFF 		bl	SensorsLaunch
 172              	.LVL8:
  17:Modules/src/system_task.c **** 
 173              		.loc 1 17 5 view .LVU21
 174 000a FFF7FEFF 		bl	StateEstimatorLaunch
 175              	.LVL9:
 176              	.L15:
  19:Modules/src/system_task.c ****         vTaskDelay(portMAX_DELAY);
 177              		.loc 1 19 5 discriminator 1 view .LVU22
  20:Modules/src/system_task.c ****     }
 178              		.loc 1 20 9 discriminator 1 view .LVU23
 179 000e 4FF0FF30 		mov	r0, #-1
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s 			page 5


 180 0012 FFF7FEFF 		bl	vTaskDelay
 181              	.LVL10:
  19:Modules/src/system_task.c ****         vTaskDelay(portMAX_DELAY);
 182              		.loc 1 19 10 discriminator 1 view .LVU24
 183 0016 FAE7     		b	.L15
 184              		.cfi_endproc
 185              	.LFE173:
 187              		.section	.text.SystemWaitStart,"ax",%progbits
 188              		.align	1
 189              		.global	SystemWaitStart
 190              		.syntax unified
 191              		.thumb
 192              		.thumb_func
 193              		.fpu fpv4-sp-d16
 195              	SystemWaitStart:
 196              	.LFB175:
  41:Modules/src/system_task.c **** 
  42:Modules/src/system_task.c **** 
  43:Modules/src/system_task.c **** void SystemWaitStart(void) {
 197              		.loc 1 43 28 view -0
 198              		.cfi_startproc
 199              		@ args = 0, pretend = 0, frame = 0
 200              		@ frame_needed = 0, uses_anonymous_args = 0
 201 0000 08B5     		push	{r3, lr}
 202              	.LCFI5:
 203              		.cfi_def_cfa_offset 8
 204              		.cfi_offset 3, -8
 205              		.cfi_offset 14, -4
  44:Modules/src/system_task.c ****     if(!is_init) {
 206              		.loc 1 44 5 view .LVU26
 207              		.loc 1 44 8 is_stmt 0 view .LVU27
 208 0002 044B     		ldr	r3, .L21
 209 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 210              		.loc 1 44 7 view .LVU28
 211 0006 03B1     		cbz	r3, .L20
 212              	.L17:
  45:Modules/src/system_task.c ****         // printf("wait\r\n");
  46:Modules/src/system_task.c ****         vTaskDelay(2);
  47:Modules/src/system_task.c ****     }
  48:Modules/src/system_task.c **** }...
 213              		.loc 1 48 1 view .LVU29
 214 0008 08BD     		pop	{r3, pc}
 215              	.L20:
  46:Modules/src/system_task.c ****         vTaskDelay(2);
 216              		.loc 1 46 9 is_stmt 1 view .LVU30
 217 000a 0220     		movs	r0, #2
 218 000c FFF7FEFF 		bl	vTaskDelay
 219              	.LVL11:
 220              		.loc 1 48 1 is_stmt 0 view .LVU31
 221 0010 FAE7     		b	.L17
 222              	.L22:
 223 0012 00BF     		.align	2
 224              	.L21:
 225 0014 00000000 		.word	.LANCHOR2
 226              		.cfi_endproc
 227              	.LFE175:
 229              		.section	.bss.is_init,"aw",%nobits
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s 			page 6


 230              		.set	.LANCHOR2,. + 0
 233              	is_init:
 234 0000 00       		.space	1
 235              		.section	.bss.osSys_system_taskStackBuffer,"aw",%nobits
 236              		.align	2
 237              		.set	.LANCHOR1,. + 0
 240              	osSys_system_taskStackBuffer:
 241 0000 00000000 		.space	1024
 241      00000000 
 241      00000000 
 241      00000000 
 241      00000000 
 242              		.section	.bss.osSys_system_taskTaskBuffer,"aw",%nobits
 243              		.align	2
 244              		.set	.LANCHOR0,. + 0
 247              	osSys_system_taskTaskBuffer:
 248 0000 00000000 		.space	84
 248      00000000 
 248      00000000 
 248      00000000 
 248      00000000 
 249              		.text
 250              	.Letext0:
 251              		.file 2 "c:\\gnu_tools_arm_embedded\\arm-none-eabi\\include\\machine\\_default_types.h"
 252              		.file 3 "c:\\gnu_tools_arm_embedded\\arm-none-eabi\\include\\sys\\_stdint.h"
 253              		.file 4 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
 254              		.file 5 "Middlewares/Third_Party/FreeRTOS/Source/include/FreeRTOS.h"
 255              		.file 6 "Inc/FreeRTOSConfig.h"
 256              		.file 7 "Drivers/CMSIS/Include/core_cm4.h"
 257              		.file 8 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 258              		.file 9 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 259              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 260              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 261              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 262              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 263              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 264              		.file 15 "c:\\gnu_tools_arm_embedded\\arm-none-eabi\\include\\sys\\lock.h"
 265              		.file 16 "c:\\gnu_tools_arm_embedded\\arm-none-eabi\\include\\sys\\_types.h"
 266              		.file 17 "c:\\gnu_tools_arm_embedded\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\stddef.h"
 267              		.file 18 "c:\\gnu_tools_arm_embedded\\arm-none-eabi\\include\\sys\\reent.h"
 268              		.file 19 "Modules/include/utils/utils.h"
 269              		.file 20 "Inc/i2c.h"
 270              		.file 21 "c:\\gnu_tools_arm_embedded\\arm-none-eabi\\include\\math.h"
 271              		.file 22 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 272              		.file 23 "Modules/include/sensors.h"
 273              		.file 24 "Modules/include/eskf.h"
 274              		.file 25 "c:\\gnu_tools_arm_embedded\\arm-none-eabi\\include\\stdio.h"
 275              		.file 26 "Modules/include/sensors_task.h"
 276              		.file 27 "Modules/include/state_estimator_task.h"
ARM GAS  C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 system_task.c
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:18     .rodata.SystemLaunch.str1.4:00000000 $d
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:22     .text.SystemLaunch:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:30     .text.SystemLaunch:00000000 SystemLaunch
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:66     .text.SystemLaunch:00000024 $d
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:153    .text.SystemTask:00000000 SystemTask
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:74     .rodata.SystemInitiate.str1.4:00000000 $d
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:78     .text.SystemInitiate:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:85     .text.SystemInitiate:00000000 SystemInitiate
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:137    .text.SystemInitiate:0000003c $d
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:147    .text.SystemTask:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:188    .text.SystemWaitStart:00000000 $t
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:195    .text.SystemWaitStart:00000000 SystemWaitStart
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:225    .text.SystemWaitStart:00000014 $d
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:233    .bss.is_init:00000000 is_init
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:234    .bss.is_init:00000000 $d
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:236    .bss.osSys_system_taskStackBuffer:00000000 $d
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:240    .bss.osSys_system_taskStackBuffer:00000000 osSys_system_taskStackBuffer
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:243    .bss.osSys_system_taskTaskBuffer:00000000 $d
C:\Users\luoha\AppData\Local\Temp\ccc0PBrk.s:247    .bss.osSys_system_taskTaskBuffer:00000000 osSys_system_taskTaskBuffer

UNDEFINED SYMBOLS
xTaskCreateStatic
SensorsInit
EskfInit
printf
SensorsLaunch
StateEstimatorLaunch
vTaskDelay
